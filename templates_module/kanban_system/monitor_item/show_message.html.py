# -*- coding:utf-8 -*-
from mako import runtime, filters, cache
UNDEFINED = runtime.UNDEFINED
STOP_RENDERING = runtime.STOP_RENDERING
__M_dict_builtin = dict
__M_locals_builtin = locals
_magic_number = 10
_modified_time = 1555733381.365
_enable_loop = True
_template_filename = 'D:/py-workspace/LanhuSaas/framework/templates/monitor_item/show_message.html'
_template_uri = './monitor_item/show_message.html'
_source_encoding = 'utf-8'
_exports = []


def render_body(context,**pageargs):
    __M_caller = context.caller_stack._push_frame()
    try:
        __M_locals = __M_dict_builtin(pageargs=pageargs)
        STATIC_URL = context.get('STATIC_URL', UNDEFINED)
        SITE_URL = context.get('SITE_URL', UNDEFINED)
        __M_writer = context.writer()
        __M_writer(u'<html>\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/Component-based.js"></script>\r\n    <!-- \u5f00\u53d1\u73af\u5883\u7248\u672c\uff0c\u5305\u542b\u4e86\u6709\u5e2e\u52a9\u7684\u547d\u4ee4\u884c\u8b66\u544a--2.5.51 -->\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/vue.development.js"></script>\r\n    <!-- element UI\u5f15\u5165\u6837\u5f0f -->\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/element-2.4.11/index.css">\r\n    <!-- element UI\u5f15\u5165\u7ec4\u4ef6\u5e93 -->\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/element-2.4.11/index.js"></script>\r\n    <!--axios.min.js--vue.js\u7684ajax\u652f\u6301-->\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/axios.min.js"></script>\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/jquery/jquery-3.1.1.min.js"></script>\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/csrftoken.js"></script>\r\n    <link type="text/css" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/home.css" rel="stylesheet">\r\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/v-charts/lib/style.min.css">\r\n\r\n    <script type="text/javascript"\r\n            src="https://magicbox.bk.tencent.com/static_api/v3/assets/dataflow-2.0/js/jsplumb.min.js"></script>\r\n    <link rel="stylesheet"\r\n          href="https://magicbox.bk.tencent.com/static_api/v3/assets/dataflow-2.0/css/jsPlumbToolkit-defaults.css"/>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/dataflow/dataflow2.0.js"></script>\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/monitorScene/dataflow-index.css">\r\n    <link rel="stylesheet" href="https://magicbox.bk.tencent.com/static_api/v3/assets/bk-icon-2.0/iconfont.css">\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/echarts/echarts.js"></script>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/echarts/macarons.js"></script>\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/maintenanceIndex/maintenanceIndex.css">\r\n    <style>\r\n        input {\r\n            width: 250px;\r\n            height: 30px;\r\n        }\r\n        .el-table--border th {\r\n            padding: 5px\r\n        }\r\n        .newline{\r\n            word-wrap: break-word;\r\n            word-break: break-all;\r\n            overflow: hidden;\r\n        }\r\n        .circle1{display: inline-block;margin-left:5px;width:20px;height:20px;background-color:lawngreen;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;}\r\n        .circle2{display: inline-block;margin-left:5px;width:20px;height:20px;background-color:darkgreen;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;}\r\n        .circle3{display: inline-block;margin-left:5px;width:20px;height:20px;background-color:grey;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;}\r\n        .circle4{display: inline-block;margin-left:5px;width:20px;height:20px;background-color:red;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;}\r\n        .asd{display: inline-block;}\r\n        .score_input{\r\n            font-size: 16px;\r\n            position: absolute;\r\n            background: rgba(255, 255, 255, 0.1);\r\n            top: -36px;\r\n            left: 0;\r\n            width: 50px;\r\n            height: 36px;\r\n            display: none;\r\n        }\r\n        .right_click {\r\n            position: absolute;\r\n            width: 100px;\r\n            display: none;\r\n        }\r\n        .right_click span {\r\n            width: 100px;\r\n            display: inline-block;\r\n            font-size: 16px;\r\n            line-height: 36px;\r\n        }\r\n        .circle-bar { margin:20px auto;font-size:100px; width: 1em; height: 1em; position: relative;  background-color: #333; }\r\n        .circle-bar-left,.circle-bar-right { width: 1em; height: 1em; background-color: #eee; }\r\n        /*\r\n            \u8fd9\u91cc\u91c7\u7528clip\u526a\u5207\u4e86\u5706\uff0c\u5b9e\u73b0\u5de6\u53f3\u4e24\u4e2a\u534a\u5706\uff0c\u53f3\u534a\u5706\u5728\u540e\u9762\uff0c\u56e0\u6b64\u5728\u66f4\u4e0a\u4e00\u5c42\uff0c\r\n            clip\u7684\u7528\u6cd5\u53c2\u8003\uff1ahttp://www.w3school.com.cn/cssref/pr_pos_clip.asp\r\n         */\r\n        .circle-bar-right { clip:rect(0,auto,auto,.5em); }\r\n        .circle-bar-left { clip:rect(0,.5em,auto,0); }\r\n        .mask { width: 0.8em; height: 0.8em;  background-color: #fff;text-align: center;line-height: 0.2em; color:rgba(0,0,0,0.5); }\r\n        .mask :first-child { font-size: 0.3em; height: 0.8em; line-height: 0.8em; display: block;  }\r\n        /*\u6240\u6709\u7684\u540e\u4ee3\u90fd\u6c34\u5e73\u5782\u76f4\u5c45\u4e2d\uff0c\u8fd9\u6837\u5c31\u662f\u540c\u5fc3\u5706\u4e86*/\r\n        .circle-bar * {  position: absolute; top:0; right:0; bottom:0; left:0; margin:auto; }\r\n        /*\u81ea\u8eab\u4ee5\u53ca\u5b50\u5143\u7d20\u90fd\u662f\u5706*/\r\n        .circle-bar, .circle-bar > * { border-radius: 50%; }\r\n        .dimension_div .el-form-item__content:first-child{\r\n            margin-left: 0!important;\r\n        }\r\n    </style>\r\n</head>\r\n<body >\r\n<div id="app" >\r\n    <!-- div1 start-->\r\n    <div class="div_one" style="padding: 20px 40px 0px 40px;">\r\n        <div>\r\n            <el-input placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9" clearable v-model="contents" style="width:30%"></el-input>\r\n            <el-button type="primary" icon="el-icon-search" v-on:click="select1">\u641c\u7d22</el-button>\r\n            <el-popover placement="top-start" width="200" trigger="hover" content="\u65b0\u589e\u4e00\u4e2a\u76d1\u63a7\u9879\u3002" style="float:right;">\r\n                <el-button slot="reference" v-on:click="add_unit(0)">\u65b0\u589e</el-button>\r\n            </el-popover>\r\n        </div>\r\n        <div style="height: 20px"></div>\r\n        <div>\r\n            <el-table :data=\'sites\' :header-cell-style=\'rowclass\' style="width: 100%;" border header-align="center">\r\n                <el-table-column prop="id" label="\u5e8f\u53f7" sortable></el-table-column>\r\n                <el-table-column prop="monitor_name" label="\u76d1\u63a7\u540d\u79f0" sortable></el-table-column>\r\n                <el-table-column prop="monitor_type" label="\u76d1\u63a7\u7c7b\u578b" :formatter="format_monitor_type" sortable></el-table-column>\r\n                <el-table-column prop="editor" label="\u7f16\u8f91\u4eba" sortable></el-table-column>\r\n                <el-table-column prop="edit_time" label="\u4fee\u6539\u65f6\u95f4" sortable></el-table-column>\r\n                <el-table-column label="\u64cd\u4f5c">\r\n                    <template slot-scope="scope">\r\n                        <el-button size="mini" type="text" v-on:click="edit_unit(scope.row)">\u7f16\u8f91</el-button>\r\n                        <el-button size="mini" type="text" v-on:click="delete_unit(scope.row)">\u5220\u9664</el-button>\r\n                        <el-tooltip :content="scope.row.status" placement="top">\r\n                            <el-switch v-model="scope.row.status" active-color="#13ce66" inactive-color="#ff4949"\r\n                                       @change="switch_change(scope.row)"\r\n                                       active-value="1" inactive-value="0"></el-switch>\r\n                        </el-tooltip>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination :page-count="page_count" background layout="prev, pager, next" style="float:right"\r\n                           @current-change="current_change1" :current-page="page"></el-pagination>\r\n        </div>\r\n    </div>\r\n    <!-- div1 end-->\r\n\r\n    <!-- \u5bf9\u8bdd\u6846 start-->\r\n    <el-dialog title="\u57fa\u672c\u4fe1\u606f" :visible.sync="centerDialogVisible" width="80%" @closed="monitor_cache_clean" :close-on-click-modal="false">\r\n        <HR align=center width=100% color=#979797 SIZE=0.5>\r\n        <div style="height: 30px"></div>\r\n        <div>\r\n            <span>\u76d1\u63a7\u76d1\u63a7\u9879\u540d\u79f0</span>\r\n            <el-input placeholder="\u8bf7\u8f93\u5165\u76d1\u63a7\u9879\u540d\u79f0" v-model="monitor_name" style="width: 30%"></el-input>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <span>\u76d1\u63a7\u9879\u6267\u884c\u65e5\u5386</span>\r\n            <el-select v-model="area" placeholder="\u8bf7\u9009\u62e9\u65e5\u5386\u7684\u5730\u533a">\r\n                <el-option\r\n                        v-for="item in areas"\r\n                        :key="item.value"\r\n                        :label="item.area"\r\n                        :value="item.value">\r\n                </el-option>\r\n            </el-select>\r\n        </div>\r\n        <div style="height: 30px"></div>\r\n        <span>\r\n            <el-tabs type="card" v-model="monitor_type" @tab-click="handleClick">\r\n\r\n                <!--\u57fa\u672c\u5355\u5143 start-->\r\n                <el-tab-pane :disabled="disabled2" label="\u57fa\u672c\u76d1\u63a7\u9879" name="first">\r\n                    <el-row>\r\n                        <el-col :span="12"><div class="grid-content bg-purple">\r\n                            <el-form :model="basic" ref="basic" :rules="rules1" label-width="100px">\r\n                                <el-form-item label="\u5b57\u53f7" prop="font_size">\r\n                                    <el-select v-model="basic.font_size" placeholder="\u8bf7\u9009\u62e9\u5b57\u53f7" @change="basic_size">\r\n                                        <el-option v-for="i in font_size_range" :label=i :value=i></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u9ad8\u2169\u5bbd" required style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="height">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="basic.height"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u9ad8\u5ea6" @change="basic_height"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col class="line" :span="2">\u2169</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="width">\r\n                                              <el-input class="max" type="number" min="0" max="600"\r\n                                                        v-model.number="numberValidateForm.age"\r\n                                                        auto-complete="off" v-model="basic.width"\r\n                                                        placeholder="\u8bf7\u8f93\u5165\u5bbd\u5ea6" @change="basic_width"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u663e\u793a\u5185\u5bb9" prop="contents" style="width: 96%">\r\n                                        <el-input v-model="basic.contents" placeholder="\u4e0a\u8bc1\u6307\u6570:3000  \u6df1\u8bc1\u6307\u6570:3000"\r\n                                                  @change="sycontent"\r\n                                                  type="textarea"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u6570\u636e\u6765\u6e90">\r\n                                    <el-radio-group v-model="sql_file_interface" @change="change1"\r\n                                                    style="padding: 14px">\r\n                                        <el-radio :label="3">\u6570\u636e\u5e93</el-radio>\r\n                                        <el-radio :label="6">\u6587\u4ef6</el-radio>\r\n                                        <el-radio :label="9">\u63a5\u53e3</el-radio>\r\n                                     </el-radio-group>\r\n                                </el-form-item>\r\n                                <div :style="{ display: sql1 }">\r\n                                    <el-form-item label="\u6570\u636e\u5e93\u8fde\u63a5">\r\n                                        <el-select v-model="server_url" placeholder="\u8bf7\u9009\u62e9\u6570\u636e\u5e93">\r\n                                            <el-option v-for="i in sites1" :label="i.label"\r\n                                                       :value="i.value"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div :style="{display:file1}">\r\n                                    <el-form-item label="\u670d\u52a1\u5668">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165\u670d\u52a1\u5668" v-model="server_url"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label="\u6587\u4ef6\u8def\u5f84">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165\u6587\u4ef6\u8def\u5f84" v-model="file_param"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div :style="{display:interface1}">\r\n                                    <el-form-item label="url">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165url" v-model="server_url"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label="\u63a5\u53e3\u53c2\u6570">\r\n                                        <el-input type="textarea" v-model="file_param"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <el-form-item id="data_gather_rule" label="\u6570\u636e\u91c7\u96c6\u89c4\u5219" style="width: 96%">\r\n                                    <el-input v-model="basic.gather_rule" placeholder="select * from tb_hq"\r\n                                              type="textarea"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="basic.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="basic.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="basic.period" style="width: 96%"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                        </el-form-item>\r\n                            </el-form>\r\n                        </div></el-col>\r\n                        <el-col :span="12"><div class="grid-content bg-purple-light">\r\n                            <div style="padding: 0px 45% 0px 45%">\r\n                                <h2>\u9884\u89c8</h2>\r\n                            </div>\r\n                            <div style="text-align:center;width: 100%;min-height:40%;height: auto;background-color: whitesmoke; position: relative"\r\n                                 id="text1">\r\n                                <!--<div id = "text2" style="position:absolute;left:230px;top:150px;"> -->\r\n                                <div id="text2" style="margin:auto;">\r\n                                </div>\r\n                            </div>\r\n                            <div style="padding: 0px 20%">\r\n                                <div style="height: 20px"></div>\r\n                                <el-button type="primary" @click="basic_test">\u91c7\u96c6\u6d4b\u8bd5</el-button>\r\n                            </div>\r\n                            <div style="padding: 0px 20%">\r\n                                <div style="height: 20px"></div>\r\n                            </div>\r\n                        </div></el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n                <!-- \u57fa\u672c\u5355\u5143 end-->\r\n\r\n                <!-- \u56fe\u8868\u5355\u5143 start-->\r\n                <el-tab-pane :disabled="disabled3" label="\u56fe\u8868\u76d1\u63a7\u9879" name="second">\r\n                    <el-row>\r\n                        <el-col :span="12"><div class="grid-content bg-purple">\r\n                            <el-form :model="chart" :rules="rules2" ref="chart" label-width="100px">\r\n                                <el-form-item label="\u5b57\u53f7" prop="font_size">\r\n                                    <el-select v-model="chart.font_size" placeholder="\u8bf7\u9009\u62e9\u5b57\u53f7">\r\n                                        <el-option v-for="i in font_size_range" :label=i :value=i></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u9ad8\u2169\u5bbd" required style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="height">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="chart.height"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u9ad8\u5ea6" @change="echart_height"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col class="line" :span="2">\u2169</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="width">\r\n                                              <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                        auto-complete="off" v-model="chart.width"\r\n                                                        placeholder="\u8bf7\u8f93\u5165\u5bbd\u5ea6" @change="echart_width"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u56fe\u6807\u7c7b\u578b" prop="gather_params">\r\n                                    <el-select v-model="chart.gather_params" @change="show_chart" placeholder="\u8bf7\u9009\u62e9\u56fe\u8868\u7c7b\u578b">\r\n                                        <el-option label="\u6298\u7ebf\u56fe" value="\u6298\u7ebf\u56fe"></el-option>\r\n                                        <el-option label="\u67f1\u72b6\u56fe" value="\u67f1\u72b6\u56fe"></el-option>\r\n                                        <el-option label="\u997c\u56fe" value="\u997c\u56fe"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u663e\u793a\u5185\u5bb9" style="width: 96%" prop="contents">\r\n                                    <el-input type="textarea" v-model="chart.contents"\r\n                                              placeholder="\u4e0a\u8bc1\u6307\u6570:3000  \u6df1\u8bc1\u6307\u6570:3000" @change="show_content"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u8fde\u63a5\u6570\u636e\u5e93">\r\n                                    <el-select v-model="chart.params" placeholder="\u8bf7\u9009\u62e9\u6570\u636e\u5e93">\r\n                                        <el-option v-for="i in sites1" :label="i.label" :value="i.value"></el-option>\r\n\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u56fe\u8868\u91c7\u96c6\u89c4\u5219" style="width: 96%">\r\n                                    <el-input v-model="chart.gather_rule" placeholder="select * from tb_hq"\r\n                                              type="textarea"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="chart.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="chart.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="chart.period" style="width: 96%"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </div></el-col>\r\n                        <el-col :span="12">\r\n                            <div class="grid-content bg-purple-light">\r\n                                <div style="padding: 0px 45% 0px 45%">\r\n                                    <h2>\u9884\u89c8</h2>\r\n                                </div>\r\n                                <div style="text-align:center;width: 100%;height: 23%;">\r\n                                    <div id="maintenanceIndex">\r\n                                        <el-row>\r\n                                            <el-col :span="24">\r\n                                                <el-card shadow="always" class="box-card">\r\n                                                    <div slot="header" class="clearfix">\r\n                                                        <span class="maintenanceHeader">{{ chart_content }}</span>\r\n                                                    </div>\r\n                                                    <div id="maintenancePie"></div>\r\n                                                </el-card>\r\n                                            </el-col>\r\n                                        </el-row>\r\n                                    </div>\r\n                                </div>\r\n                                <div style="padding: 0px 20%">\r\n                                    <div style="height: 20px"></div>\r\n                                    <el-button type="primary" v-on:click="chart_get_test">\u91c7\u96c6\u6d4b\u8bd5</el-button>\r\n                                </div>\r\n                            </div>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n                <!-- \u56fe\u8868\u5355\u5143 end-->\r\n\r\n                <!-- \u4f5c\u4e1a\u5355\u5143 start-->\r\n                <el-tab-pane :disabled="disabled4" label="\u4f5c\u4e1a\u76d1\u63a7\u9879" name="third">\r\n                    <el-row>\r\n                        <el-col :span="12"><div class="grid-content bg-purple">\r\n                            <el-form :model="job" :rules="rules3" ref="job" label-width="100px">\r\n                                <el-form-item label="\u5b57\u53f7" prop="font_size">\r\n                                    <el-select v-model="job.font_size" @change="change_job_fontSize"\r\n                                               placeholder="\u8bf7\u9009\u62e9\u5b57\u53f7">\r\n                                        <el-option v-for="i in font_size_range" :label=i :value=i></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u9ad8\u2169\u5bbd" required style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="height">\r\n                                            <el-input type="number" min="120" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="job.height"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u9ad8\u5ea6" @change="change_job_height"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col class="line" :span="2">\u2169</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="width">\r\n                                              <el-input type="number" min="200" v-model.number="numberValidateForm.age"\r\n                                                        auto-complete="off" v-model="job.width"\r\n                                                        placeholder="\u8bf7\u8f93\u5165\u5bbd\u5ea6" @change="change_job_width"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u663e\u793a\u5185\u5bb9" style="width: 96%" prop="contents">\r\n                                    <el-input type="textarea" v-model="job.contents"\r\n                                              placeholder="\u4e0a\u8bc1\u6307\u6570:3000  \u6df1\u8bc1\u6307\u6570:3000"\r\n                                              @change="change_job_contents"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u4f5c\u4e1a\u6a21\u677f" prop="gather_rule">\r\n                                    <el-select v-model="job.gather_rule" placeholder="\u8bf7\u9009\u62e9\u4f5c\u4e1a\u6a21\u677f">\r\n                                        <el-option v-for="i in job2" :label="i.name" :value="i.id"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u811a\u672c\u53c2\u6570" style="width: 96%">\r\n                                    <el-input v-model="job.gather_params" placeholder="\u591a\u4e2a\u53c2\u6570\u7a7a\u683c\u5206\u5f00"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u6267\u884c\u670d\u52a1\u5668IP" style="width: 96%">\r\n                                    <el-input v-model="job.params" placeholder="\u8bf7\u8f93\u5165\u670d\u52a1\u5668\u5730\u5740"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="job.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="job.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                 <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="job.period" style="width: 96%"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </div></el-col>\r\n                        <el-col :span="12"><div class="grid-content bg-purple-light">\r\n                            <div style="padding: 0px 45% 0px 45%">\r\n                                <h2>\u9884\u89c8</h2>\r\n                            </div>\r\n                            <div style="text-align:center;width: 100%;height: 23%;background-color: whitesmoke;">\r\n                                <div style="height: 60px"></div>\r\n                                <div id="job_text" style="max-width: 100%;margin: auto;padding-top: 20px;">\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div style="padding: 0px 10%">\r\n                                <div style="height: 20px"></div>\r\n                                <el-button type="primary" :disabled="disabled1" v-on:click="job_test">\u91c7\u96c6\u6d4b\u8bd5</el-button>\r\n                                <el-checkbox v-model="checked1" @change="change2">\u542f\u52a8\u811a\u672c</el-checkbox>\r\n                                <div :style="{ display: zuoye }">\r\n                                    <el-alert title="\u542f\u52a8\u4f5c\u4e1a\u53ef\u80fd\u4f1a\u5bf9\u7cfb\u7edf\u9020\u6210\u4e0d\u53ef\u9006\u7684\u53d8\u66f4\uff0c\u8bf7\u8c28\u614e\u52fe\u9009\u6b64\u9879\uff01" type="warning" show-icon show-icon\r\n                                              true-label="1" false-label="0"></el-alert>\r\n                                </div>\r\n                            </div>\r\n                        </div></el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n                <!-- \u4f5c\u4e1a\u5355\u5143 end-->\r\n\r\n                <!-- \u6d41\u7a0b\u5355\u5143 start-->\r\n                <el-tab-pane :disabled="disabled5" label="\u6d41\u7a0b\u76d1\u63a7\u9879" name="fourth">\r\n                    <el-row>\r\n                        <el-col :span="12"><div class="grid-content bg-purple">\r\n                            <el-form :model="flow" :rules="rules4" ref="flow" label-width="100px">\r\n\r\n                                <el-form-item label="\u6d41\u7a0b\u6a21\u677f" prop="gather_rule">\r\n                                    <el-select v-model="flow.gather_rule" placeholder="\u8bf7\u9009\u62e9\u6a21\u677f" @change="flow_change">\r\n                                        <el-option v-for="i in flow2" :label="i.flow_name" :value="i.id"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n\r\n                                <el-form-item label="\u8282\u70b9">\r\n                                        <el-select v-model="flow.node_name" placeholder="\u8bf7\u9009\u62e9\u8282\u70b9">\r\n                                          <el-option v-for="i in activities_node_name" :label="i.name"\r\n                                                     :value="i.name"></el-option>\r\n                                        </el-select>\r\n                                 </el-form-item>\r\n\r\n\r\n                                  <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="activities_node_time.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" @change="Rendering_start_time"\r\n                                                            format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="activities_node_time.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" @change="Rendering_end_time"\r\n                                                            format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n\r\n                                <el-form-item v-for="i in constants" :label="i.name" style="width: 96%">\r\n                                    <el-input v-model="i.value" placeholder="\u8bf7\u8f93\u5165\u53c2\u6570"></el-input>\r\n                                </el-form-item>\r\n\r\n\r\n                                <el-form-item label="\u5b57\u53f7" prop="font_size">\r\n                                    <el-select v-model="flow.font_size" placeholder="\u8bf7\u9009\u62e9\u5b57\u53f7" @change="font_size">\r\n                                        <el-option v-for="i in font_size_range" :label=i :value=i></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u9ad8\u2169\u5bbd" required style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="height">\r\n                                            <el-input disabled="disabled" type="number" min="0"\r\n                                                      v-model.number="numberValidateForm.age" auto-complete="off"\r\n                                                      v-model="flow.height" placeholder="\u8bf7\u8f93\u5165\u9ad8\u5ea6"\r\n                                                      @change="flow_height"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col class="line" :span="2">\u2169</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="width">\r\n                                              <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                        auto-complete="off" v-model="flow.width" placeholder="\u8bf7\u8f93\u5165\u5bbd\u5ea6"\r\n                                                        @change="flow_width" disabled="disabled"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n\r\n                                <div v-if="flow.gather_params.id === \'1\'">\r\n                                <el-form-item label="\u8282\u70b9\u5468\u671f:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="flow.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="flow.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                </div>\r\n                                <div v-if="flow.gather_rule === \'1\'">\r\n                                <el-form-item label="\u8282\u70b9\u5468\u671f:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="flow.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b91" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="flow.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                </div>\r\n                                 <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                            <el-input type="number" min="0" id="period"\r\n                                                      v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="flow.period" style="width: 96%"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </div></el-col>\r\n                        <el-col :span="12"><div class="grid-content bg-purple-light">\r\n                            <div style="padding: 0px 45% 0px 45%">\r\n                                <h2>\u9884\u89c8</h2>\r\n                            </div>\r\n                            <div id="flow_canvas" style="text-align:center;width: 100%;height: 26%;overflow: scroll;">\r\n                                <div id="flow1" class="clearfix workflow-box" style="width:1000px;position: relative;">\r\n\r\n                                        <div class="workflow-canvas" style="margin-left: 0px;padding-left: 0px">\r\n                                            <!-- \u753b\u5e03\u6a21\u677f start -->\r\n                                            <div class="jtk-content">\r\n                                                <div class="jtk-demo-canvas canvas-wide jtk-surface jtk-surface-nopan"\r\n                                                     id="canvas" style="height:500px">\r\n                                                    <!-- \u6d41\u7a0b -->\r\n                                                </div>\r\n                                            </div>\r\n                                            <!-- \u753b\u5e03\u6a21\u677f end -->\r\n\r\n                                        </div>\r\n\r\n                                    <!-- template \u6a21\u677f-->\r\n                                        <div class="jtk-delete jtk-none ">\u5220\u9664\u8282\u70b9</div>\r\n                                        <div id="template" class="jtk-none">\r\n                                            <div class="jtk-window jtk-node workfolw-node start-node" id="{charts}" data-type="EmptyEndEvent">\r\n                                               <div class="node-wrapper">\r\n                                                    <img src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/endpoint.png" style="top: 5px;left: 20px;position: absolute;">\r\n                                                </div>\r\n                                            </div>\r\n                                             <div class="jtk-window jtk-node workfolw-node start-node" id="{charts}" data-type="EmptyStartEvent">\r\n                                                <div class="node-wrapper">\r\n                                                    <img src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/Start.png" style="top: 5px;left: 20px;position: absolute;">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="jtk-window jtk-node workfolw-node database-node" id="{charts}" data-type="ServiceActivity">\r\n                                                <div class="node-wrapper">\r\n                                                    <div class="node-content" style="position: relative">\r\n                                                        <div class="start_time"\r\n                                                             style="position: absolute;width: 70px;height: 20px;top: -26px;left: 0px;"></div>\r\n                                                        <div class="end_time"\r\n                                                             style="position: absolute;width: 70px;height: 20px;top: -26px;right: 0px;"></div>\r\n                                                        <p class="node-title" style=" overflow: hidden;text-overflow:ellipsis;white-space: nowrap;"></p>\r\n                                                    </div>\r\n                                                    <div class="node-icon" style="top: 26px;width: 100%;height: 100%;">\r\n                                                        <span class="title" style="top: -14px;height: 100%;position: relative;color: #F4FFF9; overflow: hidden;text-overflow:ellipsis;white-space: nowrap;"></span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                           <div class="jtk-window jtk-node workfolw-node start-node" id="{charts}" data-type="ConvergeGateway">\r\n                                                 <div class="node-wrapper">\r\n                                                    <img src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/convergegateway.png">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="jtk-window jtk-node workfolw-node start-node" id="{charts}" data-type="ParallelGateway">\r\n                                                <div class="node-wrapper">\r\n                                                    <img src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/ParallelGateway.png">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="jtk-window jtk-node workfolw-node cog-node" id="{charts}"\r\n                                                 data-type="dataCog">\r\n                                                <div class="node-wrapper">\r\n                                                    <div class="node-content">\r\n                                                        <p class="node-title"></p>\r\n                                                    </div>\r\n                                                    <div class="node-icon">\r\n                                                        <i class="bk-icon icon-cog"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div class="jtk-window jtk-node workfolw-node filter-node" id="{charts}"\r\n                                                 data-type="dataFilter">\r\n                                                <div class="node-wrapper">\r\n                                                    <div class="node-content">\r\n                                                        <p class="node-title"></p>\r\n                                                    </div>\r\n                                                    <div class="node-icon">\r\n                                                        <i class="bk-icon icon-circle"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                            </div>\r\n                            <div style="padding: 0px 10%">\r\n                                <div style="height: 20px"></div>\r\n                                <el-button type="primary" v-on:click="canvas_new" :disabled="disabled1">\u91c7\u96c6\u6d4b\u8bd5</el-button>\r\n                                <el-checkbox v-model="checked2" @change="change3">\u542f\u52a8\u6d41\u7a0b</el-checkbox>\r\n                                <div :style="{ display: liucheng }">\r\n                                    <el-alert title="\u542f\u52a8\u6d41\u7a0b\u53ef\u80fd\u4f1a\u5bf9\u7cfb\u7edf\u9020\u6210\u4e0d\u53ef\u9006\u7684\u53d8\u66f4\uff0c\u8bf7\u8c28\u614e\u52fe\u9009\u6b64\u9879\uff01" type="warning" show-icon\r\n                                              true-label="1" false-label="0"></el-alert>\r\n                                </div>\r\n                            </div>\r\n                        </div></el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n                <!-- \u57fa\u672c\u5355\u5143 end-->\r\n\r\n\r\n                <!-- \u57fa\u672c\u5355\u5143 start-->\r\n                <el-tab-pane :disabled="disabled6" @tab label="\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4e00\u4f53\u5316\u5e73\u53f0\uff09" name="five" element-loading-text="\u62fc\u547d\u52a0\u8f7d\u4e2d"\r\n    element-loading-spinner="el-icon-loading"\r\n    element-loading-background="rgba(0, 0, 0, 0.8)" v-loading="loading">\r\n                    <el-row>\r\n                        <el-col :span="12">\r\n                            <div class="grid-content bg-purple">\r\n                                <el-form :model="base" ref="base" :rules="basicMonitorRules" label-width="100px">\r\n                                <el-form-item label="\u5b57\u53f7" prop="font_size">\r\n                                    <el-select v-model="base.font_size" placeholder="\u8bf7\u9009\u62e9\u5b57\u53f7" @change="base_size">\r\n                                        <el-option v-for="i in font_size_range" :label=i :value=i></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u9ad8\u2169\u5bbd" required style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="height">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="base.height"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u9ad8\u5ea6" @change="base_height_change"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col class="line" :span="2">\u2169</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="width">\r\n                                              <el-input class="max" type="number" min="0" max="600"\r\n                                                        v-model.number="numberValidateForm.age"\r\n                                                        auto-complete="off" v-model="base.width"\r\n                                                        placeholder="\u8bf7\u8f93\u5165\u5bbd\u5ea6" @change="base_width_change"></el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u663e\u793a\u5185\u5bb9" prop="contents" style="width: 96%">\r\n                                        <el-col :span="20">\r\n                                        <el-input v-model="base.contents" placeholder="\u4e0a\u8bc1\u6307\u6570:3000  \u6df1\u8bc1\u6307\u6570:3000"\r\n                                                  @change="content_modified_change"\r\n                                                  type="textarea"></el-input>\r\n                                        </el-col>\r\n                                    <el-col :span="4">\r\n                                    <el-button type="primary" size="mini" @click="base_monitor_show_reset">\u9ed8\u8ba4</el-button>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u6570\u636e\u6765\u6e90">\r\n                                    <el-radio-group v-model="sql_file_interface" @change="change_data_sources"\r\n                                                    style="padding: 14px">\r\n                                        <el-radio :label="9">\u63a5\u53e3</el-radio>\r\n                                     </el-radio-group>\r\n                                </el-form-item>\r\n\r\n                                    <div v-if="file_show">\r\n                                        <div :style="{ display: sql1 }">\r\n                                    <el-form-item label="\u6570\u636e\u5e93\u8fde\u63a5">\r\n                                        <el-select v-model="server_url" placeholder="\u8bf7\u9009\u62e9\u6570\u636e\u5e93">\r\n                                            <el-option v-for="i in sites1" :label="i.label"\r\n                                                       :value="i.value"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div :style="{display:file1}">\r\n                                    <el-form-item label="\u670d\u52a1\u5668">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165\u670d\u52a1\u5668" v-model="server_url"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label="\u6587\u4ef6\u8def\u5f84">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165\u6587\u4ef6\u8def\u5f84" v-model="file_param"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div :style="{display:interface1}">\r\n                                    <el-form-item label="url">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165url" v-model="server_url"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label="\u63a5\u53e3\u53c2\u6570">\r\n                                        <el-input type="textarea" v-model="file_param"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <el-form-item label="\u6570\u636e\u91c7\u96c6\u89c4\u5219" style="width: 96%">\r\n                                    <el-input v-model="basic.gather_rule" placeholder="select * from tb_hq"\r\n                                              type="textarea"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="basic.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="basic.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="basic.period" style="width: 96%"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                        </el-form-item>\r\n                                    </div>\r\n                                    <div v-if="database_show">\r\n                                        <div :style="{ display: sql1 }">\r\n                                    <el-form-item label="\u6570\u636e\u5e93\u8fde\u63a5">\r\n                                        <el-select v-model="server_url" placeholder="\u8bf7\u9009\u62e9\u6570\u636e\u5e93">\r\n                                            <el-option v-for="i in sites1" :label="i.label"\r\n                                                       :value="i.value"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div :style="{display:file1}">\r\n                                    <el-form-item label="\u670d\u52a1\u5668">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165\u670d\u52a1\u5668" v-model="server_url"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label="\u6587\u4ef6\u8def\u5f84">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165\u6587\u4ef6\u8def\u5f84" v-model="file_param"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div :style="{display:interface1}">\r\n                                    <el-form-item label="url">\r\n                                        <el-input placeholder="\u8bf7\u8f93\u5165url" v-model="server_url"\r\n                                                  style="width: 96%"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label="\u63a5\u53e3\u53c2\u6570">\r\n                                        <el-input type="textarea" v-model="file_param"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <el-form-item label="\u6570\u636e\u91c7\u96c6\u89c4\u5219" style="width: 96%">\r\n                                    <el-input v-model="basic.gather_rule" placeholder="select * from tb_hq"\r\n                                              type="textarea"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="basic.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item>\r\n                                            <el-time-picker style="width: 96%" v-model="basic.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                            <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                                      auto-complete="off" v-model="basic.period" style="width: 96%"\r\n                                                      placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                        </el-form-item>\r\n                                    </div>\r\n                             <div v-if="interface_show">\r\n                                <el-form-item label="\u6765\u6e90\u7c7b\u578b" prop="interface_type" >\r\n                                    <el-select v-model="base.interface_type" placeholder="\u8bf7\u9009\u62e9\u6570\u636e\u6765\u6e90\u7c7b\u578b" @change="change_source_type">\r\n                                        <el-option label="\u65e5\u5fd7" value="log"></el-option>\r\n                                        <el-option label="\u6307\u6807" value="measures"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u6765\u6e90\u540d\u79f0" prop="measures">\r\n                                    <el-select v-model="base.measures" filterable placeholder="\u8bf7\u9009\u62e9\u6307\u6807\u96c6" @change="change_measures">\r\n                                        <el-option\r\n                                                v-for="item in iqube_name"\r\n                                                :key="item.value"\r\n                                                :label="item.value"\r\n                                                :value="item.value">\r\n                                        </el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u5ea6\u91cf\u503c" prop="measures_name">\r\n                                    <el-select v-model="base.measures_name" filterable placeholder="\u8bf7\u9009\u62e9\u6307\u6807\u540d\u79f0">\r\n                                        <el-option\r\n                                                v-for="item in metric_list"\r\n                                                :key="item"\r\n                                                :label="item"\r\n                                                :value="item">\r\n                                        </el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u5c55\u793a\u89c4\u5219" prop="show_rule_type">\r\n                                    <el-select v-model="base.show_rule_type" placeholder="\u8bf7\u9009\u62e9\u5c55\u793a\u89c4\u5219" @change="add_comments">\r\n                                        <el-option label="\u767e\u5206\u6bd4" value="0"></el-option>\r\n                                        <el-option label="\u989c\u8272" value="1"></el-option>\r\n                                        <el-option label="\u5176\u4ed6" value="2"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u89c4\u5219" prop="gather_rule" style="width: 90%">\r\n                                    <el-input v-model="base.gather_rule" placeholder="\u767e\u5206\u6bd4\uff1a\u5982\uff1a100|\u989c\u8272\uff1a\u5982\uff1a#000000==2@#ffffff==0|\u5176\u4ed6\uff1a\u5982\uff1a100@ms"\r\n                                              type="textarea"></el-input>\r\n                                </el-form-item>\r\n                                 <div v-if="color_rules_comments">\r\n                                     <p style="color: #FF0000; font-size: 12px; margin-bottom: 20px">* \u63d0\u793a\uff1a\u8303\u56f4\u533a\u95f4\u7528\u201c-\u201d\u95f4\u9694\uff0c\u6bcf\u4e2a\u8303\u56f4\u533a\u95f4\u5360\u4e00\u884c\uff0c\u6570\u503c\u8fbe\u5230\u6b64\u8303\u56f4\u5206\u522b\u5c55\u793a\u4e3a\u7eff\u3001\u7ea2\u3001\u9ec4\u3001\u7070</p>\r\n                                 </div>\r\n                                 <div v-if="other_rules_comments">\r\n                                     <p style="color: #FF0000; font-size: 12px; margin-bottom: 20px">* \u63d0\u793a\uff1a\u8303\u56f4\u533a\u95f4\u7528\u201c-\u201d\u95f4\u9694\uff0c\u6bcf\u4e2a\u8303\u56f4\u533a\u95f4\u5360\u4e00\u884c\uff0c\u6570\u503c\u8fbe\u5230\u5bf9\u5e94\u8303\u56f4\u5206\u522b\u5c55\u793a\u5176\u201c@\u201d\u540e\u7684\u540e\u7f00</p>\r\n                                 </div>\r\n                                <el-form-item label="\u91c7\u96c6\u65f6\u95f4\u6bb5:" style="width: 96%">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="start_time">\r\n                                            <el-time-picker style="width: 96%" v-model="base.start_time"\r\n                                                            placeholder="\u5f00\u59cb\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                        </el-col>\r\n                                    <el-col class="line" :span="2">\u2014</el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item prop="end_time">\r\n                                            <el-time-picker style="width: 96%" v-model="base.end_time"\r\n                                                            placeholder="\u7ed3\u675f\u65f6\u95f4\u70b9" format="HH:mm" value-format="HH:mm">\r\n                                            </el-time-picker>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                <el-form-item label="\u91c7\u96c6\u5468\u671f" prop="period">\r\n                                    <el-input type="number" min="0" v-model.number="numberValidateForm.age"\r\n                                              auto-complete="off" v-model="base.period" style="width: 96%"\r\n                                              placeholder="\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u79d2)"></el-input>\r\n                                </el-form-item>\r\n                                <el-col :span="24">\r\n                                    <el-form-item v-for="(i,index) in base.dimension_data" class="dimension_div">\r\n                                    <el-col :span="11">\r\n                                        <el-form-item label="\u7ef4\u5ea6\u540d\u79f0" :prop="\'dimension_data.\'+ index +\'.dimension_name\'" :rules="basicMonitorRules.dimension_data.dimension_name">\r\n                                            <el-select v-model="i.dimension_name">\r\n                                                <el-option :label="i" :value="i" v-for="(i,index) in dimension_list"></el-option>\r\n                                            </el-select>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col :span="11">\r\n                                        <el-form-item label="\u7ef4\u5ea6\u503c" :prop="\'dimension_data.\'+ index +\'.dimension_value\'" :rules="basicMonitorRules.dimension_data.dimension_value">\r\n                                            <el-input v-model="i.dimension_value">\r\n                                            </el-input>\r\n                                        </el-form-item>\r\n                                    </el-col>\r\n                                    <el-col :span="2">\r\n                                        <el-button type="danger" @click="delete_dimension(index)" style="width: 68px;padding: 10px;margin: 2px 10px;"><i class="el-icon-remove-outline" style="font-size: 14px;"></i>&nbsp;\u5220\u9664</el-button>\r\n                                    </el-col>\r\n                                </el-form-item>\r\n                                </el-col>\r\n                                <el-col :span="6" :offset="18" style="height: 48px">\r\n                                    <el-button type="primary" @click="add_dimension"><i class="el-icon-circle-plus-outline" style="font-size: 14px"></i>&nbsp;\u6dfb\u52a0\u7ef4\u5ea6</el-button>\r\n                                </el-col>\r\n                             </div>\r\n\r\n                            </el-form>\r\n                            </div>\r\n                        </el-col>\r\n                        <el-col :span="12"><div class="grid-content bg-purple-light">\r\n                            <div>\r\n                            <div style="padding: 0px 45% 0px 45%">\r\n                                <h2>\u9884\u89c8</h2>\r\n                            </div>\r\n                            <div style="text-align:center;width: 100%;min-height:40%;height: auto;background-color: whitesmoke; position: relative"\r\n                                 id="base_test_text" v-loading="preview_loading">\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div style="padding: 0px 20%">\r\n                                <div style="height: 20px"></div>\r\n                                <el-button type="primary" @click="base_cell_test">\u91c7\u96c6\u6d4b\u8bd5</el-button>\r\n                            </div>\r\n                            <div style="padding: 0px 20%">\r\n                                <div style="height: 20px"></div>\r\n                            </div>\r\n                        </div></el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n                <!-- \u57fa\u672c\u5355\u5143 end-->\r\n            </el-tabs>\r\n        </span>\r\n        <span slot="footer" class="dialog-footer">\r\n            <el-button @click="centerDialogVisible = false">\u53d6 \u6d88</el-button>\r\n            <el-button type="primary" v-on:click="pefFrom">\u4fdd \u5b58</el-button>\r\n        </span>\r\n    </el-dialog>\r\n    <!-- \u5bf9\u8bdd\u6846 end-->\r\n</div>\r\n</body>\r\n\r\n\r\n<script>\r\n    //csrf\u9a8c\u8bc1\r\n    axios.interceptors.request.use((config) => {\r\n        config.headers[\'X-Requested-With\'] = \'XMLHttpRequest\';\r\n        let regex = /.*csrftoken=([^;.]*).*$/; // \u7528\u4e8e\u4ececookie\u4e2d\u5339\u914d csrftoken\u503c\r\n        config.headers[\'X-CSRFToken\'] = document.cookie.match(regex) === null ? null : document.cookie.match(regex)[1];\r\n        return config\r\n    });\r\n    //\u81ea\u5b9a\u4e49\u6821\u9a8c\u89c4\u5219\r\n    //\u57fa\u672c\u76d1\u63a7\u9879\u9ad8\u5ea6\u5927\u5c0f\u8303\u56f4\u6821\u9a8c\r\n    const height_range_check = (rule, value, callback) => {\r\n        var reg = /^[0-9]*$/;\r\n        if(!reg.test(value)){\r\n            return callback(new Error(\'\u9ad8\u5ea6\u503c\u5fc5\u987b\u662f\u4e00\u4e2a\u6570\u5b57\'));\r\n        }\r\n        var height = parseInt(value);\r\n        if(0 > height || 480 < height){\r\n            return callback(new Error(\'\u9ad8\u5ea6\u503c\u8303\u56f4\u57280-480\'));\r\n        }\r\n        return callback();\r\n    };\r\n\r\n    const width_range_check = (rule, value, callback) => {\r\n        var reg = /^[0-9]*$/;\r\n        if(!reg.test(value)){\r\n            return callback(new Error(\'\u5bbd\u5ea6\u503c\u5fc5\u987b\u662f\u4e00\u4e2a\u6570\u5b57\'));\r\n        }\r\n        var height = parseInt(value);\r\n        if(0 > height || 422 < height){\r\n            return callback(new Error(\'\u5bbd\u5ea6\u503c\u8303\u56f4\u57280-422\'));\r\n        }\r\n        return callback();\r\n    };\r\n\r\n    var vm = new Vue({\r\n        el: \'#app\',\r\n        data: {\r\n            //\u9884\u89c8\u52a0\u8f7d\u53d8\u91cf\r\n            preview_loading: false,\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u663e\u793a\u5185\u5bb9\u7f13\u5b58\uff0c\u663e\u793a\u6240\u6709\u6307\u6807\r\n            base_monitor_show_cache: \'\',\r\n            //\u989c\u8272\u91c7\u96c6\u89c4\u5219\u6ce8\u91ca\r\n            color_rules_comments: false,\r\n            //\u5176\u4ed6\u91c7\u96c6\u89c4\u5219\u6ce8\u91ca\r\n            other_rules_comments: false,\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u6dfb\u52a0\u7684\u60c5\u51b5\u4e0b\u662f\u5426\u4e3a\u7b2c\u4e00\u6b21\u52a0\u8f7d\u6570\u636e\u7684\u6807\u8bb0\r\n            base_monitor_add_init: true,\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u7f16\u8f91\u7684\u60c5\u51b5\u4e0b\u662f\u5426\u4e3a\u7b2c\u4e00\u6b21\u52a0\u8f7d\u6570\u636e\u6807\u8bb0\r\n            base_monitor_edit_init: true,\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u6dfb\u52a0\u540e\u662f\u5426\u4e3a\u7b2c\u4e00\u6b21\u91c7\u96c6\u6d4b\u8bd5\u7684\u6807\u8bb0\r\n            base_monitor_add_test_init: true,\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u4fee\u6539\u540e\u662f\u5426\u4e3a\u7b2c\u4e00\u6b21\u91c7\u96c6\u6d4b\u8bd5\u7684\u6807\u8bb0\r\n            base_monitor_edit_test_init: true,\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\u4e0a\u4f20\u6570\u636e\r\n            base_monitor_upload_data: {},\r\n            //\u91c7\u96c6\u6d4b\u8bd5\u6570\u636e\u7f13\u5b58\u53d8\u91cf\r\n            gather_test_data: null,\r\n            //\u91c7\u96c6\u6d4b\u8bd5\u6570\u636e\u6807\u8bb0\u4f4d\uff0c\u9ed8\u8ba4\u4e3anull\uff0c\u91c7\u96c6\u6570\u636e\u6210\u529f\u7f6etrue\uff0c\u91c7\u96c6\u5931\u8d25\u7f6efalse\r\n            gather_data_test_flag: null,\r\n            database_show:true,\r\n            file_show:false,\r\n            interface_show:false,\r\n            loading:false,\r\n            message: \'\',                                           //\u5f39\u6846\u63d0\u793a\u4fe1\u606f\r\n            constants: \'\',\r\n            unit_id1: 0,\r\n            location: \'\',\r\n            line: \'\',\r\n            old_html: \'\',\r\n            msg1: \'\',\r\n            sql_id: \'\',\r\n            template_list: {\r\n                name: \'\',\r\n                id: \'\'\r\n            },\r\n            add_pamas: 0,                                        //\u65b0\u589e\u7f16\u8f91\u5224\u65ad\r\n            font_size_range: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40],   //\u5b57\u4f53\u5927\u5c0f\r\n            job2: [],                                   //\u4f5c\u4e1a\u6a21\u677f\r\n            flow2: [],                                  //\u6d41\u7a0b\u6a21\u677f\r\n            activities_node_name: [],                    //\u8282\u70b9\u540d\u79f0\r\n            activities_node_time: {                      //\u8282\u70b9\u65f6\u95f4\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n            },\r\n            page_count: 100,                            //\u603b\u9875\u7801\u6570\r\n            page: 1,                                    //\u5206\u9875\u9875\u7801\u6570\r\n            sites: [],                                  //table\u5185\u5bb9\r\n            sites1: [],\r\n            contents: \'\',                               //\u641c\u7d22\u8f93\u5165\u6846\u5185\u5bb9\r\n            checked1: false,                           //\u4f5c\u4e1a\u542f\u52a8\u9009\u6846\r\n            checked2: false,                           //\u6d41\u7a0b\u542f\u52a8\u9009\u6846\r\n            disabled1: false,\r\n            disabled2: false,                            //\u57fa\u672c\u5355\u5143\r\n            disabled3: false,                            //\u56fe\u8868\u5355\u5143\r\n            disabled4: false,                            //\u4f5c\u4e1a\u5355\u5143\r\n            disabled5: false,                            //\u6d41\u7a0b\u5355\u5143\r\n            disabled6: false,\r\n            areas: [],\r\n            area: 1,\r\n            caiji1: \'block\',\r\n            caiji2: \'none\',\r\n            monitor_name: \'\',                             //\u5355\u5143\u540d\u79f0\r\n            unit_id: 0,                                   //\u5355\u5143id\r\n            centerDialogVisible: false,                  //\u5f39\u7a97\u72b6\u6001\r\n            sql1: \'block\',\r\n            file1: \'none\',\r\n            interface1: \'none\',\r\n            sql_file_interface: 3,\r\n            server_url: \'\',\r\n            file_param: \'\',\r\n            param1: \'\',\r\n            param2: \'\',\r\n            zuoye: \'none\',\r\n            liucheng: \'none\',\r\n            result_data: {},                            //\u4f20\u9012\u65b0\u589e\u6570\u636e\r\n            monitor_type: \'first\',                     //\u5355\u5143\u7c7b\u578b\r\n            basic: {                                   //\u57fa\u672c\u5355\u5143\r\n                monitor_name: \'\',                      //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                      //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                         //\u5b57\u53f7\r\n                height: \'20\',                            //\u9ad8\u5ea6\r\n                width: \'0\',                             //\u5bbd\u5ea6\r\n                start_time: \'\',                        //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                          //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                            //\u91c7\u96c6\u5468\u671f\r\n                params: \'\',                            //\u76d1\u63a7\u53c2\u6570\r\n                status: \'\',                            //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                          //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                       //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'sql\',                  //\u91c7\u96c6\u53c2\u6570\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },\r\n            base: {\r\n                //\u57fa\u672c\u5355\u5143\r\n                dimension_data:[],//\u7ef4\u5ea6\u540d\u79f0\r\n                measures_name:\'\',//\u6307\u6807\u540d\u79f0\r\n                measures:\'\',       //\u6307\u6807\u96c6\r\n                interface_type:\'\',//\u63a5\u53e3\u7c7b\u578b\r\n                show_rule_type:\'\',//\u5c55\u793a\u89c4\u5219\r\n                monitor_name: \'\',                      //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                      //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                         //\u5b57\u53f7\r\n                height: \'480\',                            //\u9ad8\u5ea6\r\n                width: \'422\',                             //\u5bbd\u5ea6\r\n                start_time: \'\',                        //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                          //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                            //\u91c7\u96c6\u5468\u671f\r\n                params: \'\',                            //\u76d1\u63a7\u53c2\u6570\r\n                status: \'\',                            //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                          //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                       //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'sql\',                  //\u91c7\u96c6\u53c2\u6570\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },             //\u57fa\u672c\u5355\u5143\r\n            rules1: {\r\n                font_size: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5b57\u53f7\', trigger: \'change\'}\r\n                ],\r\n                height: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u9ad8\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                width: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5bbd\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                contents: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5185\u5bb9\', trigger: \'blur\'}\r\n                ],\r\n                period: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\', trigger: \'blur\'}\r\n                ]\r\n            },                              //\u6821\u9a8c\u89c4\u5219\r\n            chart: {                                //\u56fe\u8868\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'380\',                          //\u9ad8\u5ea6\r\n                width: \'580\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                          //\u91c7\u96c6\u5468\u671f\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'\',                   //\u8282\u70b9\r\n                params: \'\',                         //\u76d1\u63a7\u53c2\u6570\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },             //\u56fe\u8868\u5355\u5143\r\n            rules2: {\r\n                font_size: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5b57\u53f7\', trigger: \'change\'}\r\n                ],\r\n                height: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u9ad8\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                width: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5bbd\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                contents: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5185\u5bb9\', trigger: \'blur\'}\r\n                ],\r\n                gather_params: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u56fe\u7247\u7c7b\u578b\', trigger: \'change\'}\r\n                ],\r\n                period: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\', trigger: \'blur\'}\r\n                ],\r\n            },                              //\u6821\u9a8c\u89c4\u5219\r\n            job: {                                   //\u4f5c\u4e1a\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'120\',                          //\u9ad8\u5ea6\r\n                width: \'200\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                          //\u91c7\u96c6\u5468\u671f\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //NODE_KEY\r\n                gather_params: \'\',                   //\u4f5c\u4e1a\u6a21\u677f\r\n                params: \'\',                         //\u6267\u884c\u670d\u52a1\u5668\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },                //\u4f5c\u4e1a\u5355\u5143\r\n            rules3: {\r\n                font_size: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5b57\u53f7\', trigger: \'change\'}\r\n                ],\r\n                height: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u9ad8\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                width: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5bbd\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                contents: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5185\u5bb9\', trigger: \'blur\'}\r\n                ],\r\n                gather_params: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u4f5c\u4e1a\u6a21\u677f\', trigger: \'change\'}\r\n                ],\r\n                period: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\', trigger: \'blur\'}\r\n                ],\r\n            },                              //\u6821\u9a8c\u89c4\u5219\r\n            flow: {                                     //\u6d41\u7a0b\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'20\',                          //\u9ad8\u5ea6\r\n                width: \'0\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                          //\u91c7\u96c6\u5468\u671f\r\n                params: \'\',                         //\u76d1\u63a7\u53c2\u6570\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'\',                   //\u6d41\u7a0b\u6a21\u677f\r\n                node_name: \'\',\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },              //\u6d41\u7a0b\u5355\u5143\r\n            rules4: {\r\n                font_size: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5b57\u53f7\', trigger: \'change\'}\r\n                ],\r\n                height: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u9ad8\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                width: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u5bbd\u5ea6\', trigger: \'blur\'}\r\n                ],\r\n                gather_rule: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u6d41\u7a0b\u6a21\u677f\', trigger: \'change\'}\r\n                ],\r\n                period: [\r\n                    {required: true, message: \'\u8bf7\u8f93\u5165\u91c7\u96c6\u5468\u671f(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\', trigger: \'blur\'}\r\n                ]\r\n            },//\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u7684\u6821\u9a8c\u89c4\u5219\r\n            basicMonitorRules: {\r\n                font_size: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5b57\u53f7\', trigger: \'change\'}\r\n                ],\r\n                height: [\r\n                    {required: true, message: \'\u8bf7\u586b\u5199\u9ad8\u5ea6\', trigger: \'blur\'},\r\n                    {validator: height_range_check, trigger: \'blur\'}\r\n                ],\r\n                width: [\r\n                    {required: true, message: \'\u8bf7\u586b\u5199\u5bbd\u5ea6\', trigger: \'blur\'},\r\n                    {validator: width_range_check, trigger: \'blur\'}\r\n                ],\r\n                interface_type: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u6765\u6e90\u7c7b\u578b\', trigger: \'change\'}\r\n                ],\r\n                measures: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u6765\u6e90\u540d\u79f0\', trigger: \'change\'}\r\n                ],\r\n                measures_name: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5ea6\u91cf\u503c\', trigger: \'change\'}\r\n                ],\r\n                show_rule_type: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u5c55\u793a\u89c4\u5219\', trigger: \'change\'}\r\n                ],\r\n                gather_rule: [\r\n                    {required: true, message: \'\u8bf7\u586b\u5199\u6570\u636e\u91c7\u96c6\u89c4\u5219\', trigger: \'change\'}\r\n                ],\r\n                start_time: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u91c7\u96c6\u5f00\u59cb\u65f6\u95f4\', trigger: \'change\'}\r\n                ],\r\n                end_time: [\r\n                    {required: true, message: \'\u8bf7\u9009\u62e9\u91c7\u96c6\u7ed3\u675f\u65f6\u95f4\', trigger: \'change\'}\r\n                ],\r\n                period: [\r\n                    {required: true, message: \'\u8bf7\u586b\u5199\u91c7\u96c6\u5468\u671f\', trigger: \'blur\'}\r\n                ],\r\n                dimension_data: {\r\n                    dimension_name: [\r\n                        {required: true, message: \'\u8bf7\u9009\u62e9\u7ef4\u5ea6\u540d\u79f0\', trigger: \'change\'}\r\n                    ],\r\n                    dimension_value: [\r\n                        {required: true, message: \'\u8bf7\u586b\u5199\u7ef4\u5ea6\u503c\', trigger: \'blur\'}\r\n                    ]\r\n                }\r\n            },\r\n            //\u6821\u9a8c\u89c4\u5219\r\n            basic1: {                                //\u57fa\u672c\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'20\',                          //\u9ad8\u5ea6\r\n                width: \'0\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                          //\u91c7\u96c6\u5468\u671f\r\n                params: \'\',                         //\u76d1\u63a7\u53c2\u6570\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'sql\',                   //\u91c7\u96c6\u53c2\u6570\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },\r\n            chart1: {                                //\u56fe\u8868\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'380\',                          //\u9ad8\u5ea6\r\n                width: \'580\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                          //\u91c7\u96c6\u5468\u671f\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'\',                   //\u8282\u70b9\r\n                params: \'\',                          //\u76d1\u63a7\u53c2\u6570\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },\r\n            job1: {                                   //\u4f5c\u4e1a\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'20\',                          //\u9ad8\u5ea6\r\n                width: \'0\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'10\',                          //\u91c7\u96c6\u5468\u671f\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //NODE_KEY\r\n                gather_params: \'\',                   //\u4f5c\u4e1a\u6a21\u677f\r\n                params: \'\',                         //\u6267\u884c\u670d\u52a1\u5668\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },\r\n            flow7: {                                //\u6d41\u7a0b\u5355\u5143\r\n                monitor_name: \'\',                    //\u5355\u5143\u540d\u79f0\r\n                monitor_type: \'\',                    //\u5355\u5143\u7c7b\u578b\r\n                font_size: \'20\',                       //\u5b57\u53f7\r\n                height: \'20\',                          //\u9ad8\u5ea6\r\n                width: \'0\',                            //\u5bbd\u5ea6\r\n                start_time: \'\',                      //\u5f00\u59cb\u65f6\u95f4\r\n                end_time: \'\',                        //\u7ed3\u675f\u65f6\u95f4\r\n                period: \'\',                          //\u91c7\u96c6\u5468\u671f\r\n                params: \'10\',                         //\u76d1\u63a7\u53c2\u6570\r\n                status: \'\',                          //\u76d1\u63a7\u72b6\u6001\r\n                contents: \'\',                        //\u663e\u793a\u5185\u5bb9\r\n                gather_rule: \'\',                     //\u91c7\u96c6\u89c4\u5219\r\n                gather_params: \'\',                   //\u6d41\u7a0b\u6a21\u677f\r\n                monitor_area: \'\'                             //\u65e5\u5386\u5730\u533a\r\n            },\r\n            myChart: null,\r\n            chart_content: \'\',\r\n            chartData: \'\',\r\n            person_count: \'\',\r\n            measures: \'\',\r\n            measures_name:\'\',\r\n            iqube_name: [],\r\n            //\u5ea6\u91cf\u503c\u5217\u8868\r\n            metric_list: [],\r\n            //\u7ef4\u5ea6\u540d\u79f0\u5217\u8868\r\n            dimension_list: [],\r\n            gather_list:[],\r\n            gather_base_test_data:[],\r\n            /*dimension_data:[{\r\n                dimension_name:\'ip\',\r\n                dimension_value:\'192.168.1.153\'\r\n            }],*/\r\n        },\r\n        methods: {\r\n            //tab\u9875\u70b9\u51fb\u4e8b\u4ef6\r\n            handleClick(){\r\n                if("five" == vm.monitor_type){\r\n                    vm.sql_file_interface = 9;\r\n                }\r\n                vm.change_data_sources(vm.sql_file_interface);\r\n            },\r\n            //\u83b7\u53d6\u91c7\u96c6\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u540c\u6b65\u8c03\u7528\r\n            get_gather_test(){\r\n                $.ajax({\r\n                    type: "POST",\r\n                    data : JSON.stringify(vm.base),\r\n                    dataType: "JSON",\r\n                    async: false,\r\n                    url: "/iqube_interface/gather_base_test/",\r\n                    success: function(data) {\r\n                         if(0 != data.code){\r\n                            vm.$alert("\u91c7\u96c6\u6d4b\u8bd5\u672a\u901a\u8fc7\uff0c\u8bf7\u6821\u6b63\u63a5\u53e3\u8c03\u7528\u53c2\u6570\u6216\u7a0d\u540e\u91cd\u8bd5\uff01","\u9519\u8bef");\r\n                            return;\r\n                         }\r\n                          //\u91c7\u96c6\u6d4b\u8bd5\u7684\u6570\u636e\u7f13\u5b58\u5230gather_data_test_data\u53d8\u91cf\u4e2d\r\n                         vm.gather_test_data = data.results;\r\n                    },\r\n                    error: function(error){\r\n                        vm.$alert("\u91c7\u96c6\u6d4b\u8bd5\u672a\u901a\u8fc7\uff0c\u8bf7\u6821\u6b63\u63a5\u53e3\u8c03\u7528\u53c2\u6570\u6216\u7a0d\u540e\u91cd\u8bd5\uff01","\u9519\u8bef");\r\n                        return;\r\n                    }\r\n                });\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u663e\u793a\u5185\u5bb9\u53d8\u66f4\u65f6\u8c03\u7528\u7684\u9884\u89c8\u53d8\u66f4\u65b9\u6cd5\r\n            content_modified_change(){\r\n                this.base_monitor_other_fixed_status();\r\n                this.content_change();\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\u663e\u793a\u65b9\u5f0f\u4e3a\u5176\u4ed6\u4e14\u663e\u793a\u5185\u5bb9\u4e3a\u7a7a\u65f6\u663e\u793a\u7684\u5355\u4f4d\r\n            base_monitor_other_fixed_status(){\r\n                if(vm.base.show_rule_type==2){\r\n                    if(\'\' == vm.base[\'contents\'].replace(/^\\s+|\\s+$/g,"")){\r\n                        $(\'#other_fixed_show\').show();\r\n                    }else{\r\n                        $(\'#other_fixed_show\').hide();\r\n                    }\r\n                }\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\u4fee\u6539\u540e\u663e\u793a\u5185\u5bb9\u91cd\u7f6e\u65b9\u6cd5\r\n            base_monitor_show_reset(){\r\n                //base[\'contents\']\u4f7f\u7528\u7f13\u5b58\u7684\u6240\u6709\u6307\u6807\u503c\u663e\u793a\u5185\u5bb9\u66ff\u6362\r\n                this.base[\'contents\'] = this.base_monitor_show_cache;\r\n                //\u5982\u679c\u663e\u793a\u65b9\u5f0f\u4e3a\u5176\u4ed6\uff0c\u4e14\u663e\u793a\u5185\u5bb9\u4e3a\u7a7a\uff0c\u79fb\u9664\u4e3a\u7a7a\u65f6\u663e\u793a\u7684\u5f53\u524d\u5355\u4f4d\r\n                this.base_monitor_other_fixed_status();\r\n                //\u66f4\u66ff\u663e\u793a\u5185\u5bb9\r\n                this.content_change();\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\u4fee\u6539\u540e\u989c\u8272\u548c\u5176\u4ed6\u9009\u9879\u63d0\u793a\u4fe1\u606f\u6dfb\u52a0\u65b9\u6cd5\r\n            add_comments(){\r\n                if(\'1\' == this.base.show_rule_type){\r\n                    this.color_rules_comments = true;\r\n                    this.other_rules_comments = false;\r\n                }else if(\'2\' == this.base.show_rule_type){\r\n                    this.color_rules_comments = false;\r\n                    this.other_rules_comments = true;\r\n                }else{\r\n                    this.color_rules_comments = false;\r\n                    this.other_rules_comments = false;\r\n                }\r\n\r\n            },\r\n            //\u76d1\u63a7\u9879\u6570\u636e\u5904\u7406\uff0c\u7528\u4e8e\u7f16\u8f91\u72b6\u6001\u4e0b\u56de\u663e\u6570\u636e\r\n            monitor_edit_data_process(row){\r\n                //\u5982\u679c\u76d1\u63a7\u9879\u7c7b\u578b\u4e3a\u57fa\u672c\u57fa\u672c\u76d1\u63a7\u5355\u5143\uff08\u4fee\u6539\u540e\uff09\r\n                if(\'five\' == vm.monitor_type){\r\n                    //\u57fa\u672c\u76d1\u63a7\u9879\u91c7\u96c6\u7c7b\u578b\u521d\u59cb\u5316\r\n                    this.sql_file_interface = row.gather_params;\r\n                    //\u5207\u6362\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6570\u636e\u6765\u6e90\u7c7b\u578b\u5c55\u793a\u4e0d\u540c\u7684\u5185\u5bb9\r\n                    this.base_gather_source_change(vm.sql_file_interface);\r\n                    if (vm.sql_file_interface == \'interface\') {\r\n                        vm.sql_file_interface = 9;\r\n                        if(row.dimension != null){\r\n                            vm.base[\'dimension_data\'] = JSON.parse(row.dimension);\r\n                        }else{\r\n                            vm.base[\'dimension_data\'] = [];\r\n                        }\r\n                        if(0 == row.source_type){\r\n                            this.change_source_type(\'log\');\r\n                            this.base[\'interface_type\'] = \'log\';\r\n                        }else if(1 == row.source_type){\r\n                            this.change_source_type(\'measures\');\r\n                            this.base[\'interface_type\'] = \'measures\';\r\n                        }else{\r\n                            this.base[\'interface_type\'] = null;\r\n                        }\r\n                        vm.base[\'measures_name\'] = row.measure_name;\r\n                        vm.base[\'measures\'] = row.target_name;\r\n                        //\u4e0b\u62c9\u6846\u4e0d\u8bc6\u522bnumber\u7c7b\u578b\u7684\u6570\u636e\uff0c\u9700\u8981\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u4f9b\u4e0b\u62c9\u6846\u56de\u663e\r\n                        vm.base[\'show_rule_type\'] = row.display_type.toString();\r\n                        //\u5c55\u793a\u7c7b\u578b\u4e3a\u989c\u8272\u65f6\u663e\u793a\u63d0\u793a\u4fe1\u606f\r\n                        if(\'1\' == vm.base[\'show_rule_type\']){\r\n                            this.color_rules_comments = true;\r\n                            this.other_rules_comments = false;\r\n                        }else if(\'2\' == vm.base[\'show_rule_type\']){\r\n                            this.other_rules_comments = true;\r\n                            this.color_rules_comments = false;\r\n                        }\r\n                        vm.base[\'monitor_name\'] = vm.monitor_name;\r\n                        vm.base[\'monitor_type\'] = vm.monitor_type;\r\n                        vm.base[\'font_size\'] = row.font_size;\r\n                        vm.base[\'height\'] = row.height;\r\n                        vm.base[\'width\'] = row.width;\r\n                        vm.base[\'start_time\'] = row.start_time;\r\n                        vm.base[\'end_time\'] = row.end_time;\r\n                        vm.base[\'period\'] = row.period;\r\n                        vm.base[\'params\'] = row.params;\r\n                        vm.base[\'status\'] = row.status;\r\n                        vm.base[\'contents\'] = row.contents;\r\n                        vm.base[\'gather_rule\'] = row.gather_rule;\r\n                        vm.base[\'gather_params\'] = row.gather_params;\r\n                        vm.base[\'monitor_area\'] = vm.area;\r\n                    }else{\r\n                        alert(\'\u6682\u672a\u5b9e\u73b0\uff01\');\r\n                    }\r\n                }\r\n            },\r\n            //\u6570\u636e\u6dfb\u52a0\u540e\u7f13\u5b58\u6570\u636e\u6e05\u7a7a\u64cd\u4f5c\r\n            monitor_cache_clean(){\r\n                //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u7684\u6e05\u7a7a\u64cd\u4f5c\r\n                if(\'five\' == vm.monitor_type){\r\n                    this.base[\'dimension_data\'] = [];\r\n                    this.base[\'measures_name\'] = \'\';\r\n                    this.base[\'measures\'] = \'\';\r\n                    this.base[\'interface_type\'] = \'\';\r\n                    this.base[\'show_rule_type\'] = \'\';\r\n                    //\u6e05\u7a7a\u6570\u636e\u540e\u9ed8\u8ba4\u4e3a\u57fa\u672c\u76d1\u63a7\u7c7b\u578b\uff08\u4fee\u6539\u540e\uff09\r\n                    this.base[\'monitor_type\'] = 5;\r\n                    this.base[\'font_size\'] = \'20\';\r\n                    this.base[\'height\'] = \'480\';\r\n                    this.base[\'width\'] = \'422\';\r\n                    this.base[\'start_time\'] = \'\';\r\n                    this.base[\'end_time\'] = \'\';\r\n                    this.base[\'period\'] = \'10\';\r\n                    this.base[\'params\'] = \'\';\r\n                    this.base[\'status\'] = \'\';\r\n                    this.base[\'contents\'] = \'\';\r\n                    this.base[\'gather_rule\'] = \'\';\r\n                    //\u91c7\u96c6\u53c2\u6570\u9ed8\u8ba4\u4e3ainterface\r\n                    this.base[\'gather_params\'] = \'interface\';\r\n                    this.base[\'monitor_area\'] = \'\';\r\n                }\r\n                //\u91c7\u96c6\u6d4b\u8bd5\u6807\u5fd7\u4f4d\u7f6e\u7a7a\r\n                vm.gather_data_test_flag = null;\r\n                //\u91c7\u96c6\u6d4b\u8bd5\u7f13\u5b58\u6570\u636e\u6e05\u7a7a\r\n                this.gather_test_data = null;\r\n                //\u91c7\u96c6\u6d4b\u8bd5\u7684\u9884\u89c8\u6846\u6e05\u7a7a\r\n                $(\'#base_test_text\').html(\'\');\r\n                //\u63d0\u793a\u4fe1\u606f\u72b6\u6001\u6807\u5fd7\u4f4d\u7f6efalse\r\n                this.color_rules_comments = false;\r\n                this.other_rules_comments = false;\r\n                //\u5982\u679c\u662f\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u7684\u4fee\u6539\u7a97\u53e3\u88ab\u5173\u95ed\u57fa\u672c\u76d1\u63a7\u9879\u7f16\u8f91\u521d\u59cb\u5316\u72b6\u6001\u91cd\u7f6e\u4e3atrue\r\n                if(1 == vm.add_pamas){\r\n                    this.base_monitor_edit_init = true;\r\n                    this.base_monitor_edit_test_init = true;\r\n                }else if(0 == vm.add_pamas){\r\n                    this.base_monitor_add_init = true;\r\n                    this.base_monitor_add_test_init = true;\r\n                }\r\n                //\u7f13\u5b58\u7684\u5f53\u524d\u6240\u6709\u6307\u6807\u7684\u663e\u793a\u5185\u5bb9\u6e05\u7a7a\r\n                vm.base_monitor_show_cache = \'\';\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\u7684\u6570\u636e\u6765\u6e90\u5207\u6362\r\n            base_gather_source_change(source_type){\r\n                if(\'sql\' == source_type || \'3\' == source_type){\r\n                    //\u663e\u793a\u6570\u636e\u5e93\u8868\u5355\r\n                    this.database_show = true;\r\n                    this.file_show = false;\r\n                    this.interface_show = false;\r\n                }else if(\'interface\' == source_type || \'9\' == source_type){\r\n                    //\u663e\u793a\u5173\u95ed\u6587\u4ef6\u548c\u6570\u636e\u5e93\u7684\u663e\u793a\uff0c\u663e\u793a\u63a5\u53e3\u8868\u5355\r\n                    this.database_show = false;\r\n                    this.file_show = false;\r\n                    this.interface_show = true;\r\n                }else if(\'file\' == source_type || \'6\' == source_type){\r\n                    //\u663e\u793a\u6587\u4ef6\u8868\u5355\r\n                    this.database_show = false;\r\n                    this.file_show = true;\r\n                    this.interface_show = false;\r\n                }else{\r\n                    console.log(\'\u57fa\u672c\u76d1\u63a7\u9879\u6570\u636e\u6765\u6e90\u7c7b\u578b\u9519\u8bef\uff1a \' + source_type);\r\n                }\r\n            },\r\n            //\u5c06\u76d1\u63a7\u9879\u7c7b\u578b\u7684\u7f16\u7801\u8f6c\u6362\u6210\u4e2d\u6587\u7684\u540d\u79f0\uff0c\u524d\u53f0\u8f6c\u6362\r\n            format_monitor_type(row,column){\r\n                if(row.monitor_type === 1){\r\n                    return "\u57fa\u672c\u76d1\u63a7\u9879"\r\n                }else if(row.monitor_type === 2){\r\n                    return "\u56fe\u8868\u76d1\u63a7\u9879"\r\n                }else if(row.monitor_type === 3){\r\n                    return "\u4f5c\u4e1a\u76d1\u63a7\u9879"\r\n                }else if(row.monitor_type === 4){\r\n                    return "\u6d41\u7a0b\u76d1\u63a7\u9879"\r\n                }else if(row.monitor_type === 5){\r\n                    return "\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4e00\u4f53\u5316\u5e73\u53f0\uff09"\r\n                }\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6570\u636e\u5904\u7406\u65b9\u6cd5\r\n            base_monitor_data_process(){\r\n                //\u6570\u636e\u6574\u5408\u4e0e\u5904\u7406\r\n                this.base_monitor_upload_data[\'jion_id\'] = null;\r\n                if(\'log\' == this.base[\'interface_type\']){\r\n                    this.base_monitor_upload_data[\'source_type\'] = 0;\r\n                }else if(\'measures\' == this.base[\'interface_type\']){\r\n                    this.base_monitor_upload_data[\'source_type\'] = 1;\r\n                }else{\r\n                    this.base_monitor_upload_data[\'source_type\'] = null;\r\n                }\r\n                //base\u5bf9\u8c61\u88ab\u5176\u4ed6\u529f\u80fd\u6240\u4f7f\u7528\uff0c\u56e0\u6b64\u4e0d\u80fd\u5220\u9664\u5176\u5c5e\u6027\u7528\u4e8e\u4e0a\u4f20\u6570\u636e\uff0c\u53e6\u5916\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\u7f13\u5b58\u5e76\u4e0a\u4f20\r\n                this.base_monitor_upload_data[\'target_name\'] = this.base[\'measures\'];\r\n                this.base_monitor_upload_data[\'measure_name\'] = this.base[\'measures_name\'];\r\n                if(null == this.base[\'dimension_data\'] || 0 === this.base[\'dimension_data\'].length){\r\n                    this.base_monitor_upload_data[\'dimension\'] = null;\r\n                }else{\r\n                    this.base_monitor_upload_data[\'dimension\'] = JSON.stringify(this.base[\'dimension_data\']);\r\n                }\r\n                this.base_monitor_upload_data[\'display_type\'] = this.base[\'show_rule_type\'];\r\n                this.base_monitor_upload_data[\'display_rule\'] = this.base[\'gather_rule\'];\r\n                this.base_monitor_upload_data[\'gather_rule\'] = this.base[\'gather_rule\'];\r\n                this.base_monitor_upload_data[\'gather_params\'] = this.base[\'gather_params\'];\r\n                this.base_monitor_upload_data[\'params\'] = this.base[\'params\'];\r\n                this.base_monitor_upload_data[\'width\'] = this.base[\'width\'];\r\n                this.base_monitor_upload_data[\'height\'] = this.base[\'height\'];\r\n                this.base_monitor_upload_data[\'font_size\'] = this.base[\'font_size\'];\r\n                this.base_monitor_upload_data[\'period\'] = this.base[\'period\'];\r\n                this.base_monitor_upload_data[\'start_time\'] = this.base[\'start_time\'];\r\n                this.base_monitor_upload_data[\'end_time\'] = this.base[\'end_time\'];\r\n                this.base_monitor_upload_data[\'contents\'] = this.base[\'contents\'];\r\n                this.result_data = this.base_monitor_upload_data;\r\n                //\u7531\u4e8e\u8c03\u7528\u91c7\u96c6\u6d4b\u8bd5\u63a5\u53e3\u9700\u8981\u4ee5\u4e0b\u53c2\u6570,\u56e0\u6b64\u5728\u6b64\u7edf\u4e00\u5220\u9664\u6570\u636e\u5e93\u8868\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5,\u907f\u514d\u76d1\u63a7\u9879\u6dfb\u52a0\u65f6\u62a5\u9519\r\n                /*delete this.base[\'dimension_data\'];\r\n                delete this.base[\'interface_type\'];\r\n                delete this.base[\'measures\'];\r\n                delete this.base[\'measures_name\'];\r\n                delete this.base[\'show_rule_type\'];*/\r\n            },\r\n            //\u91c7\u96c6\u6d4b\u8bd5\u7684\u6570\u636e\u4fdd\u5b58\u65b9\u6cd5\r\n            gather_data_test_save(item_id, type){\r\n              axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'gather_data/gather_data_save\',\r\n                    data: {\r\n                        \'measures\': this.gather_test_data,\r\n                        \'item_id\': item_id,\r\n                        \'type\' : type\r\n                    }\r\n                }).then((res) => {\r\n                    console.log(\'\u91c7\u96c6\u6d4b\u8bd5\u6570\u636e\u4fdd\u5b58\u6210\u529f\');\r\n                }).catch((error) => {\r\n                    vm.$alert("\u91c7\u96c6\u6d4b\u8bd5\u6570\u636e\u4fdd\u5b58\u5931\u8d25\uff01", "\u9519\u8bef");\r\n                });\r\n            },\r\n            //\u76d1\u63a7\u9879\u6570\u636e\u7f16\u8f91\u540e\u7684\u4fdd\u5b58\u65b9\u6cd5\r\n            monitor_data_save(unit_id, flow){\r\n                if (vm.monitor_name == \'\') {\r\n                    vm.message = \'\u76d1\u63a7\u9879\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a!\';\r\n                    this.$alert(vm.message, "\u9519\u8bef");\r\n                    vm.unit_id = -1;\r\n                    return false;\r\n                }\r\n                //unit_id\u5927\u4e8e0\u7684\u60c5\u51b5\u4e3a\u7f16\u8f91\u540e\u7684\u6570\u636e\u4e0a\u4f20\r\n                if(unit_id > 0){\r\n                    axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/edit/\',\r\n                    data: {\r\n                            \'flow\': flow,\r\n                            data: vm.result_data,\r\n                            monitor_type: vm.monitor_type,\r\n                            monitor_name: vm.monitor_name,\r\n                            unit_id: vm.unit_id,\r\n                            monitor_area: vm.area\r\n                        }\r\n                    }).then((res) => {\r\n                        if (res[\'data\'][\'code\'] == 1) {\r\n                            this.$alert("\u4fdd\u5b58\u5931\u8d25!","\u9519\u8bef");\r\n                            vm.centerDialogVisible = true;\r\n                        } else {\r\n                            //\u4fdd\u5b58\u91c7\u96c6\u6d4b\u8bd5\u7684\u6570\u636e\u5230\u670d\u52a1\u5668\r\n                            vm.gather_data_test_save(vm.unit_id, \'edit\');\r\n                            this.$alert(vm.message,"\u63d0\u793a");\r\n                            vm.centerDialogVisible = false;\r\n                        }\r\n                        vm.show();\r\n                    }).catch((error) => {\r\n                        this.$alert("\u4fee\u6539\u4fdd\u5b58\u51fa\u9519\uff01","\u9519\u8bef")\r\n                    });\r\n                }\r\n                //unit_id\u7b49\u4e8e0\u7684\u60c5\u51b5\u4e0b\u4e3a\u6dfb\u52a0\u540e\u7684\u6570\u636e\u4e0a\u4f20\r\n                else if(unit_id == 0){\r\n                    axios({\r\n                        method: \'post\',\r\n                        url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/add/\',\r\n                        data: {\r\n                            \'flow\': flow,\r\n                            data: vm.result_data,\r\n                            monitor_type: vm.monitor_type,\r\n                            monitor_name: vm.monitor_name,\r\n                            monitor_area: vm.area\r\n                        }\r\n                    }).then((res) => {\r\n                        if (res[\'data\'][\'code\'] == 1) {\r\n                            this.$alert("\u65b0\u589e\u4fdd\u5b58\u5931\u8d25!", "\u9519\u8bef");\r\n                            vm.centerDialogVisible = true;\r\n                        } else {\r\n                            //\u4fdd\u5b58\u91c7\u96c6\u6d4b\u8bd5\u7684\u6570\u636e\u5230\u670d\u52a1\u5668\r\n                            vm.gather_data_test_save(res.data[\'item_id\'], \'add\');\r\n                        }\r\n                        vm.show()\r\n                    }).catch((error) => {\r\n                        this.$alert(\'\u65b0\u589e\u4fdd\u5b58\u5931\u8d25!\', "\u9519\u8bef");\r\n                    });\r\n                }else {\r\n                    vm.centerDialogVisible = true;\r\n                    if (vm.add_pamas == 0) {\r\n                        vm.unit_id = 0\r\n                    } else {\r\n                        vm.unit_id = vm.unit_id1\r\n                    }\r\n                }\r\n            },\r\n            add_dimension(){\r\n                vm.$set(vm.base.dimension_data, vm.base.dimension_data.length, {\r\n                dimension_name:\'\',\r\n                dimension_value:\'\'\r\n            });\r\n            },\r\n            delete_dimension(index){\r\n                vm.base.dimension_data.splice(index,1);\r\n            },\r\n            basic_size() {\r\n                $("#text2").find("*").css("font-size", this.basic.font_size)\r\n            },\r\n            //\u57fa\u672c\u76d1\u63a7\u9879\u4fee\u6539\u540e\u7684\u5b57\u4f53\u5927\u5c0f\u53d8\u66f4\r\n            base_size(){\r\n                collection_base_size(vm,\'#base_test_text\')\r\n            },\r\n            basic_height() {\r\n                $(\'#text2\').css(\'height\', this.basic.height)\r\n            },\r\n            basic_width() {\r\n                $("#text2").css("width", this.basic.width)\r\n            },\r\n            get_header_data() {\r\n                axios.get(\'/market_day/get_header/\').then(function (res) {\r\n                })\r\n            },\r\n            get_all_area() {\r\n                axios({\r\n                    method: \'get\',\r\n                    url: \'/market_day/get_all_area\',\r\n                }).then(function (res) {\r\n                    res = res.data.message\r\n                    vm.areas = []\r\n                    for (var i = 0; i < res.length; i++) {\r\n                        var label = res[i].country + "(" + res[i].timezone + ")"\r\n                        temp = {\r\n                            \'area\': label,\r\n                            \'value\': res[i].id\r\n                        }\r\n                        vm.areas.push(temp)\r\n                    }\r\n                })\r\n            },\r\n            sycontent() {\r\n                let tempcontents = vm.basic.contents\r\n                $("#text2").html("")\r\n                $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + tempcontents + "</div>")\r\n                if (vm.basic.contents.indexOf("#") > -1 && vm.basic.contents.indexOf(\'@\') == -1) {\r\n                    var temp1 = tempcontents.split("#");\r\n                    var temp2 = [];\r\n                    var temp3 = [];\r\n                    var temp4 = [];\r\n                    var str = [];\r\n                    for (var i = 1; i < temp1.length; i = i + 2) {\r\n                        temp2.push(temp1[i]);\r\n                    }\r\n                    for (var i = 0; i < temp2.length; i++) {\r\n                        temp3.push(temp2[i].split("="))\r\n                    }\r\n                    for (var i = 0; i < temp3.length; i++) {\r\n                        temp4.push(temp3[i][1])\r\n                    }\r\n                    for (i = 0; i < temp2.length; i++) {\r\n                        str[i] = \'#\' + temp2[i] + \'#\'\r\n                    }\r\n                    $("#text2").html("")\r\n                    for (var i = 0, j = 0; i < temp1.length; i = i + 2, j++) {\r\n                        if (j < temp4.length) {\r\n                            $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + temp1[i] + temp4[j] + "</div>");\r\n                        } else {\r\n                            $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + temp1[i] + "</div>");\r\n                        }\r\n                    }\r\n                }\r\n                if (vm.basic.contents.indexOf(\'@\') > -1 && vm.basic.contents.indexOf("#") == -1) {\r\n                    var icon1 = tempcontents.split("@");\r\n                    var icon2 = [];\r\n                    var icon3 = [];\r\n                    var icon4 = [-2];\r\n                    var icon = [];\r\n                    for (var i = 1; i < icon1.length; i = i + 2) {\r\n                        icon2.push(icon1[i]);\r\n                    }\r\n                    for (var i = 0; i < icon2.length; i++) {\r\n                        icon3.push(icon2[i].split("="));\r\n                    }\r\n                    for (var i = 0; i < icon3.length; i++) {\r\n                        icon4.pop();\r\n                        icon4.push(icon3[i][1]);\r\n                    }\r\n                    $("#text2").html("")\r\n                    $("#text2").append("<div class = \\"asd\\">" + icon1[0] + "</div>");\r\n                    if (icon4) {\r\n                        icon4.push("-2")\r\n                    }\r\n                    if (icon4[0] == 1) {\r\n                        $("#text2").append("<div class=\\"circle1\\"></div>");\r\n                    }\r\n                    if (icon4[0] == 2) {\r\n                        $("#text2").append("<div class=\\"circle2\\"></div>");\r\n                    }\r\n                    if (icon4[0] == 0) {\r\n                        $("#text2").append("<div class=\\"circle4\\"></div>");\r\n                    }\r\n                    if (icon4[0] == -1 || icon4 == -2) {\r\n                        $("#text2").append("<div class=\\"circle3\\"></div>");\r\n                    }\r\n                }\r\n                if (vm.basic.contents.indexOf("#") > -1 && vm.basic.contents.indexOf(\'@\') > -1) {\r\n                    var temp1 = tempcontents.split("#");\r\n                    var temp2 = [];\r\n                    var temp3 = [];\r\n                    var temp4 = [];\r\n                    for (var i = 1; i < temp1.length; i = i + 2) {\r\n                        temp2.push(temp1[i]);\r\n                    }\r\n                    for (var i = 0; i < temp2.length; i++) {\r\n                        temp3.push(temp2[i].split("="))\r\n                    }\r\n                    for (var i = 0; i < temp3.length; i++) {\r\n                        temp4.push(temp3[i][1])\r\n                    }\r\n                    var icon1 = [];\r\n                    var icon2 = [];\r\n                    var icon3 = [];\r\n                    var icon4 = \'\';\r\n                    var flag2 = 0;\r\n                    for (var i = 0; i < temp1.length; i = i + 2) {\r\n                        if (temp1[i].indexOf("@") > -1) {\r\n                            icon1 = temp1[i].split("@")\r\n                            flag2 = i\r\n                            for (var k = 0; k < icon1.length; k++) {\r\n                                icon2.push(icon1[k])\r\n                            }\r\n                        }\r\n                    }\r\n                    icon3 = icon2[1].split("=")\r\n                    icon4 = icon3[1]\r\n                    $("#text2").html("")\r\n                    for (var i = 0, j = 0; i < temp1.length; i = i + 2, j++) {\r\n                        if (i == flag2) {\r\n                            $("#text2").append("<div class=\\"asd\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + icon1[0] + "</div>");\r\n                            if (icon4 == 1) {\r\n                                $("#text2").append("<div class=\\"circle1\\"></div>");\r\n                            }\r\n                            if (icon4 == 2) {\r\n                                $("#text2").append("<div class=\\"circle2\\"></div>");\r\n                            }\r\n                            if (icon4 == 0) {\r\n                                $("#text2").append("<div class=\\"circle4\\"></div>");\r\n                            }\r\n                            if (icon4 == -1 || icon4 == -2) {\r\n                                $("#text2").append("<div class=\\"circle3\\"></div>");\r\n                            }\r\n                        } else {\r\n                            $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + temp1[i] + temp4[j] + "</div>");\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            basic_test() {\r\n                let params = \'\';\r\n                if (vm.sql_file_interface == 3) {\r\n                    params = vm.server_url\r\n                }\r\n                if (vm.sql_file_interface == 6 || vm.sql_file_interface == 9) {\r\n                    params = vm.server_url + \'#\' + vm.file_param\r\n                }\r\n                alert(123)\r\n                axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/basic_test/\',\r\n                    data: {\r\n                        id: vm.unit_id,\r\n                        params: params,\r\n                        gather_rule: vm.basic.gather_rule,\r\n                        gather_params: vm.basic.gather_params,\r\n                    },\r\n                }).then(function (res) {\r\n                    debugger\r\n                    let tempcontents2 = vm.basic.contents\r\n                    $("#text2").html("")\r\n                    $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + tempcontents2 + "</div>")\r\n                    if (vm.basic.contents.indexOf("#") > -1 && vm.basic.contents.indexOf(\'@\') == -1) {\r\n                        var temp1 = tempcontents2.split("#");\r\n                        var temp2 = [];\r\n                        var temp3 = [];\r\n                        var temp4 = [];\r\n                        for (var i = 1; i < temp1.length; i = i + 2) {\r\n                            temp2.push(temp1[i]);\r\n                        }\r\n                        for (var i = 0; i < temp2.length; i++) {\r\n                            temp3.push(temp2[i].split("="))\r\n                        }\r\n                        for (var i = 0; i < temp3.length; i++) {\r\n                            temp4.push(temp3[i][0])\r\n                        }\r\n                        $("#text2").html("")\r\n                        for (var i = 0, j = 0; i < temp1.length; i = i + 2, j++) {\r\n                            if (j < temp4.length) {\r\n                                $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + temp1[i] + res.data.message[0][temp4[j]] + "</div>");\r\n                            } else {\r\n                                $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + temp1[i] + "</div>");\r\n                            }\r\n                        }\r\n                    }\r\n                    if (vm.basic.contents.indexOf(\'@\') > -1 && vm.basic.contents.indexOf("#") == -1) {\r\n                        var icon1 = tempcontents2.split("@");\r\n                        var icon2 = [];\r\n                        var icon3 = [];\r\n                        var icon4 = \'\';\r\n                        if (res.data.message[0][\'DB_CONNECTION\']) {\r\n                            icon4 = res.data.message[0][\'DB_CONNECTION\'];\r\n                        }\r\n                        if (res.data.message[0][\'URL_CONNECTION\']) {\r\n                            icon4 = res.data.message[0][\'URL_CONNECTION\'];\r\n                        }\r\n                        if (res.data.message[0][\'FILE_EXIST\']) {\r\n                            icon4 = res.data.message[0][\'FILE_EXIST\'];\r\n                        }\r\n                        $("#text2").html("")\r\n                        $("#text2").append("<div class = \\"asd\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + icon1[0] + "</div>");\r\n                        if (icon4 == 1) {\r\n                            $("#text2").append("<div class=\\"circle1\\"></div>");\r\n                        }\r\n                        if (icon4 == 2) {\r\n                            $("#text2").append("<div class=\\"circle2\\"></div>");\r\n                        }\r\n                        if (icon4 == 0) {\r\n                            $("#text2").append("<div class=\\"circle3\\"></div>");\r\n                        }\r\n                        if (icon4 == -1 || icon4 == -2) {\r\n                            $("#text2").append("<div class=\\"circle4\\"></div>");\r\n                        }\r\n                    }\r\n                    if (vm.basic.contents.indexOf("#") > -1 && vm.basic.contents.indexOf(\'@\') > -1) {\r\n                        var temp1 = tempcontents2.split("#");\r\n                        var temp2 = [];\r\n                        var temp3 = [];\r\n                        var temp4 = [];\r\n                        for (var i = 1; i < temp1.length; i = i + 2) {\r\n                            temp2.push(temp1[i]);\r\n                        }\r\n                        for (var i = 0; i < temp2.length; i++) {\r\n                            temp3.push(temp2[i].split("="))\r\n                        }\r\n                        for (var i = 0; i < temp3.length; i++) {\r\n                            temp4.push(temp3[i][0])\r\n                        }\r\n                        var icon1 = [];\r\n                        var icon2 = [];\r\n                        var icon3 = [];\r\n                        var icon4 = \'\';\r\n                        var flag2 = 0;\r\n                        for (var i = 0; i < temp1.length; i = i + 2) {\r\n                            if (temp1[i].indexOf("@") > -1) {\r\n                                icon1 = temp1[i].split("@")\r\n                                flag2 = i\r\n                                for (var k = 0; k < icon1.length; k++) {\r\n                                    icon2.push(icon1[k])\r\n                                }\r\n                            }\r\n                        }\r\n                        icon3 = icon2[1].split("=")\r\n                        if (res.data.message[0][\'DB_CONNECTION\']) {\r\n                            icon4 = res.data.message[0][\'DB_CONNECTION\'];\r\n                        }\r\n                        if (res.data.message[0][\'URL_CONNECTION\']) {\r\n                            icon4 = res.data.message[0][\'URL_CONNECTION\'];\r\n                        }\r\n                        if (res.data.message[0][\'FILE_EXIST\']) {\r\n                            icon4 = res.data.message[0][\'FILE_EXIST\'];\r\n                        }\r\n                        $("#text2").html("")\r\n                        for (var i = 0, j = 0; i < temp1.length; i = i + 2, j++) {\r\n                            if (i == flag2) {\r\n                                $("#text2").append("<div class = \\"asd\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + icon1[0] + "</div>");\r\n                                if (icon4 == 1) {\r\n                                    $("#text2").append("<div class=\\"circle1\\"></div>");\r\n                                }\r\n                                if (icon4 == 2) {\r\n                                    $("#text2").append("<div class=\\"circle2\\"></div>");\r\n                                }\r\n                                if (icon4 == 0) {\r\n                                    $("#text2").append("<div class=\\"circle3\\"></div>");\r\n                                }\r\n                                if (icon4 == -1 || icon4 == -1) {\r\n                                    $("#text2").append("<div class=\\"circle4\\"></div>");\r\n                                }\r\n                            } else {\r\n                                $("#text2").append("<div class=\\"newline\\" style=\\"font-size:" + vm.basic.font_size + "px;\\">" + temp1[i] + res.data.message[0][temp4[j]] + "</div>");\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            // \u4fdd\u5b58\r\n            pefFrom() {\r\n                var basic = $(\'#pane-first\').attr(\'style\');\r\n                var chart = $(\'#pane-second\').attr(\'style\');\r\n                var job = $(\'#pane-third\').attr(\'style\');\r\n                var flow = $(\'#pane-fourth\').attr(\'style\');\r\n                var base = $(\'#pane-five\').attr(\'style\');\r\n                if (basic == undefined || basic == "") {\r\n                    vm.submitForm(\'basic\')\r\n                } else if (chart == undefined || chart == "") {\r\n                    vm.submitForm(\'chart\')\r\n                } else if (job == undefined || job == "") {\r\n                    vm.submitForm(\'job\')\r\n                } else if (flow == undefined || flow == "") {\r\n                    vm.submitForm(\'flow\')\r\n                } else if (base == undefined || base == "") {\r\n                    vm.submitForm(\'base\')\r\n                }\r\n            },\r\n            current_change1(value) {\r\n                vm.page = value;\r\n                vm.show()\r\n            },\r\n            //\u4fdd\u5b58\u6309\u94ae\r\n            submitForm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        vm.edit1()\r\n                    } else {\r\n                        console.log(\'error submit!!\');\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            delete_unit(row) {\r\n                this.$confirm(\'\u6b64\u64cd\u4f5c\u5c06\u6c38\u4e45\u5220\u9664\u8be5\u76d1\u63a7\u9879, \u662f\u5426\u7ee7\u7eed?\', \'\u63d0\u793a\', {\r\n                    confirmButtonText: \'\u786e\u5b9a\',\r\n                    cancelButtonText: \'\u53d6\u6d88\',\r\n                    type: \'warning\',\r\n                    center: true\r\n                }).then(() => {\r\n                    this.$message({\r\n                            type: \'success\',\r\n                            message: \'\u5220\u9664\u6210\u529f!\',\r\n                        },\r\n                        axios({\r\n                            method: \'post\',\r\n                            url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u"monitor_item/delete/',\r\n                            data: {\r\n                                unit_id: row.id,\r\n                                monitor_name: row.monitor_name,\r\n                                monitor_type: row.monitor_type,\r\n                            }\r\n                        }).then((res) => {\r\n                            vm.page = 1;\r\n                            vm.show()\r\n                        }),);\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '\u5df2\u53d6\u6d88\u5220\u9664'\r\n                    });\r\n                });\r\n            },\r\n            show() {\r\n                axios({\r\n                    method: 'post',\r\n                    url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/show/\',\r\n                    data: {\r\n                        page: vm.page,\r\n                        limit: 10\r\n                    },\r\n                }).then(function (res) {\r\n                    vm.sites = res.data.results.res_list;\r\n                    vm.page_count = res.data.results.res_list[0].page_count;\r\n                    vm.job2 = res.data.results.job;\r\n                    vm.flow2 = res.data.results.flow;\r\n                })\r\n            },\r\n            select1() {\r\n                vm.centerDialogVisible = false;\r\n                vm.page = 1;\r\n                if (vm.contents == "") {\r\n                    vm.show()\r\n                } else {\r\n                    axios({\r\n                        method: \'post\',\r\n                        url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u"monitor_item/select/',\r\n                        data: {\r\n                            data: this.contents,\r\n                            page: vm.page,\r\n                            limit: 10\r\n                        }\r\n                    }).then((res) => {\r\n                        if (res.data.results.length == 0) {\r\n                            vm.sites = [];\r\n                            vm.page_count = 1\r\n                        } else {\r\n                            vm.sites = res.data.results;\r\n                            vm.page_count = res.data.results[0].page_count;\r\n                        }\r\n                    }).catch(function (e) {\r\n                    vm.$message.error('\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01');\r\n                    });\r\n                }\r\n            },\r\n            //\u7f16\u8f91\u5355\u5143\r\n            edit_unit(row) {\r\n                this.get_db_connections();\r\n                vm.add_pamas = 1;\r\n                vm.centerDialogVisible = true;\r\n                //\u9ed8\u8ba4\u7f16\u8f91\u4e0b\u663e\u793a\u57fa\u672c\u76d1\u63a7\u9879\u53d6\u6d88\r\n                //vm.disabled2 = false;\r\n                vm.disabled2 = true;\r\n                //-----------------------------\r\n                vm.disabled3 = true;\r\n                vm.disabled4 = true;\r\n                vm.disabled5 = true;\r\n                //\u9ed8\u8ba4\u7f16\u8f91\u4e0b\u663e\u793a\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\uff09\r\n                vm.disabled6 = false;\r\n                //-----------------------------\r\n                vm.unit_id = row.id;\r\n                vm.monitor_name = row.monitor_name;\r\n                //\u539f\u59cb\u57fa\u672c\u76d1\u63a7\u9879\r\n                if (row.monitor_type === 1) {\r\n                    vm.monitor_type = 'first';\r\n                    vm.basic.font_size = row.font_size;\r\n                    vm.basic.height = row.height;\r\n                    vm.basic.width = row.width;\r\n                    vm.basic.start_time = row.start_time;\r\n                    vm.basic.end_time = row.end_time;\r\n                    vm.basic.period = row.period;\r\n                    vm.sql_file_interface = row.gather_params;\r\n                    vm.file_param = row.file_param;\r\n                    vm.basic.start_time = row.start_time;\r\n                    vm.basic.end_time = row.end_time;\r\n                    vm.basic.gather_rule = row.gather_rule;\r\n                    vm.basic.contents = row.contents;\r\n                    vm.basic.status = row.status;\r\n                    vm.area=row.monitor_area;\r\n                    if (vm.sql_file_interface == 'sql') {\r\n                        vm.sql_file_interface =3;\r\n                        axios({\r\n                            method: 'post',\r\n                            url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u'db_connection/get_conname/\',\r\n                            data:row.params,\r\n                        }).then((res)=> {\r\n                            //vm.server_url = res[\'data\'][\'results\'][\'connname\'];\r\n                            vm.sql_id = res[\'data\'][\'results\'][\'id\'];\r\n                            vm.server_url = vm.sql_id;\r\n                            vm.basic_size();\r\n                            vm.basic_height();\r\n                            vm.basic_width();\r\n                            vm.sycontent();\r\n                            vm.basic_test()\r\n                        }).catch(function (e) {\r\n                            vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5e93\u5931\u8d25\uff01\');\r\n                        });\r\n                        vm.sql1 = \'block\';\r\n                        vm.file1 = \'none\';\r\n                        vm.interface1 = \'none\';\r\n                        vm.basic.gather_params = \'sql\'\r\n                    }\r\n                    if (vm.sql_file_interface == \'file\') {\r\n                        vm.sql_file_interface =6;\r\n                        arr=row.params.split("#");\r\n                        vm.server_url = arr[0];\r\n                        vm.file_param = arr[1];\r\n                        vm.typeid = \'2\';\r\n                        vm.sql1 = \'none\';\r\n                        vm.file1 = \'block\';\r\n                        vm.interface1 = \'none\';\r\n                        vm.basic.gather_params = \'file\';\r\n                        vm.basic_size();\r\n                        vm.basic_height();\r\n                        vm.basic_width();\r\n                        vm.sycontent();\r\n                        vm.basic_test()\r\n                    }\r\n                    if (vm.sql_file_interface == \'interface\') {\r\n                        vm.sql_file_interface =9;\r\n                        arr=row.params.split("#");\r\n                        vm.server_url = arr[0];\r\n                        vm.file_param = arr[1];\r\n                        vm.typeid = \'3\';\r\n                        vm.sql1 = \'none\';\r\n                        vm.file1 = \'none\';\r\n                        vm.interface1 = \'block\';\r\n                        vm.basic.gather_params = \'interface\';\r\n                        vm.basic_size();\r\n                        vm.basic_height();\r\n                        vm.basic_width();\r\n                        vm.sycontent();\r\n                        vm.basic_test()\r\n                    }\r\n                }\r\n                //\u56fe\u8868\u76d1\u63a7\u9879\r\n                if (row.monitor_type === 2) {\r\n                    vm.disabled3 = false;\r\n                    console.log(row)\r\n                    vm.monitor_type = \'second\';\r\n                    vm.chart.font_size = row.font_size;\r\n                    vm.chart.height = row.height;\r\n                    vm.chart.width = row.width;\r\n                    vm.chart.start_time = row.start_time;\r\n                    vm.chart.end_time = row.end_time;\r\n                    vm.chart.period = row.period;\r\n                    vm.chart.gather_params = row.gather_params;\r\n                    vm.chart.contents = row.contents;\r\n                    vm.chart.start_time = row.start_time;\r\n                    vm.chart.end_time = row.end_time;\r\n                    vm.chart.gather_rule = row.gather_rule;\r\n                    vm.chart.status = row.status;\r\n                    vm.area=row.monitor_area;\r\n                    axios({\r\n                            method: \'post\',\r\n                            url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'db_connection/get_conname/\',\r\n                            data:row.params,\r\n                        }).then((res)=> {\r\n                            vm.chart.params = res[\'data\'][\'results\'][\'connname\'];\r\n                            vm.show_content();\r\n                        }).catch(function (e) {\r\n                            vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5e93\u5931\u8d25\uff01\');\r\n                        });\r\n                }\r\n                //\u4f5c\u4e1a\u76d1\u63a7\u9879\r\n                if (row.monitor_type === 3) {\r\n                    vm.disabled4 = false;\r\n                    vm.monitor_type = \'third\';\r\n                    console.log(row)\r\n                    vm.job.font_size = row.font_size;\r\n                    vm.job.height = row.height;\r\n                    vm.job.width = row.width;\r\n                    vm.change_job_fontSize();\r\n                    vm.change_job_height();\r\n                    vm.change_job_width();\r\n                    vm.job.start_time = row.start_time;\r\n                    vm.job.end_time = row.end_time;\r\n                    vm.job.period = row.period;\r\n                    vm.job.contents = row.contents;\r\n                    vm.job.gather_rule = row.gather_rule;\r\n                    vm.job.gather_params = row.gather_params;\r\n                    vm.job.params = row.params;\r\n                    vm.job.status = row.status;\r\n                    vm.area=row.monitor_area;\r\n                }\r\n                //\u6d41\u7a0b\u76d1\u63a7\u9879\r\n                if (row.monitor_type === 4) {\r\n                    vm.disabled5 = false;\r\n                    vm.monitor_type = \'fourth\';\r\n                    console.log(row)\r\n                    vm.flow.font_size = row.font_size;\r\n                    vm.flow.height = row.height;\r\n                    vm.flow.width = row.width;\r\n                    vm.flow.start_time = row.start_time;\r\n                    vm.flow.end_time = row.end_time;\r\n                    vm.flow.period = row.period;\r\n                    vm.flow.status = row.status;\r\n                    vm.flow.jion_id = row.jion_id;\r\n                    vm.flow.period = row.period;\r\n                    vm.flow.node_name = row.gather_params;\r\n                    vm.flow.gather_rule = {\r\n                        \'name\':row.gather_rule,\r\n                        \'id\':row.jion_id\r\n                    };\r\n                    vm.area=row.monitor_area;\r\n                    var id1=row.jion_id\r\n                    var id=[{\r\n                        \'id\':id1\r\n                    }]\r\n                    vm.flow_change(id)\r\n                }\r\n                //\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4e00\u4f53\u5316\uff09\r\n                if(row.monitor_type === 5){\r\n                    vm.disabled6 = false;\r\n                    //\u76d1\u63a7\u9879\u7c7b\u578b\u8bbe\u7f6e\r\n                    this.monitor_type = \'five\';\r\n                    //\u5904\u7406\u76d1\u63a7\u9879\u7684\u6570\u636e\u7528\u4e8e\u4fee\u6539\u65f6\u7684\u6570\u636e\u56de\u663e\r\n                    this.monitor_edit_data_process(row);\r\n                    // \u6267\u884c\u91c7\u96c6\u6d4b\u8bd5\r\n                    this.base_cell_test();\r\n                }\r\n            },\r\n            //\u4fdd\u5b58\u6570\u636e\u5904\u7406\r\n            edit1() {\r\n                vm.message = \'\u4fdd\u5b58\u6210\u529f!\';\r\n                var node_time = {};\r\n                var flow = {};\r\n                if (vm.monitor_type == \'first\') {\r\n                    vm.result_data = vm.basic;\r\n                    if (vm.file_param == undefined) {\r\n                        vm.basic.params = vm.server_url\r\n                    } else {\r\n                        vm.basic.params = vm.server_url + \'#\' + vm.file_param\r\n                    }\r\n                    vm.basic.monitor_name = vm.monitor_name;\r\n                    vm.basic.monitor_type = vm.monitor_type;\r\n                    if (vm.server_url == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u6570\u636e\u5e93\u6216\u8005\u586b\u5199\u670d\u52a1\u5668\u548curl!\'\r\n                    }\r\n                    if (vm.basic.gather_rule == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u8f93\u5165\u6570\u636e\u91c7\u96c6\u89c4\u5219!\'\r\n                    }\r\n                    if (vm.basic.start_time == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4!\'\r\n                    }\r\n                    if (vm.basic.end_time == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u7ed3\u675f\u65f6\u95f4!\'\r\n                    }\r\n                    //\u4e0a\u4f20\u6570\u636e\u81f3\u670d\u52a1\u5668\u4fdd\u5b58\r\n                    vm.monitor_data_save(vm.unit_id, flow);\r\n                } else if (vm.monitor_type == \'second\') {\r\n                    vm.result_data = vm.chart;\r\n                    vm.chart.monitor_name = vm.monitor_name;\r\n                    vm.chart.monitor_type = vm.monitor_type;\r\n                    if (vm.chart.params == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u6570\u636e\u5e93!\'\r\n                    }\r\n                    if (vm.chart.gather_rule == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u8f93\u5165\u91c7\u96c6\u89c4\u5219!\'\r\n                    }\r\n                    if (vm.chart.start_time == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4!\'\r\n                    }\r\n                    if (vm.chart.end_time == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u7ed3\u675f\u65f6\u95f4!\'\r\n                    }\r\n                    //\u4e0a\u4f20\u6570\u636e\u81f3\u670d\u52a1\u5668\u4fdd\u5b58\r\n                    vm.monitor_data_save(vm.unit_id, flow);\r\n                } else if (vm.monitor_type == \'third\') {\r\n                    vm.result_data = vm.job;\r\n                    vm.job.monitor_name = vm.monitor_name;\r\n                    vm.job.monitor_type = vm.monitor_type;\r\n                    if (vm.job.gather_rule == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u4f5c\u4e1a\u6a21\u677f!\'\r\n                    }\r\n                    var reg = /^(?:(?:2[0-4][0-9]\\.)|(?:25[0-5]\\.)|(?:1[0-9][0-9]\\.)|(?:[1-9][0-9]\\.)|(?:[0-9]\\.)){3}(?:(?:2[0-4][0-9])|(?:25[0-5])|(?:1[0-9][0-9])|(?:[1-9][0-9])|(?:[0-9]))$/;\r\n                    var re = new RegExp(reg);\r\n                    if (vm.job.params == null || vm.job.params == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = "IP\u4e0d\u53ef\u4e3a\u7a7a!";\r\n                    }\r\n                    if (!re.test(vm.job.params)) {\r\n                        vm.unit_id = -1;\r\n                        vm.message = "\u8bf7\u586b\u5199\u6709\u6548\u7684IP\u5730\u5740!";\r\n                    }\r\n                    if (vm.job.start_time == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4!\'\r\n                    }\r\n                    if (vm.job.end_time == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u7ed3\u675f\u65f6\u95f4!\'\r\n                    }\r\n                    //\u4e0a\u4f20\u6570\u636e\u81f3\u670d\u52a1\u5668\u4fdd\u5b58\r\n                    vm.monitor_data_save(vm.unit_id, flow);\r\n                } else if (vm.monitor_type == \'fourth\') {\r\n                    vm.result_data = vm.flow;\r\n                    vm.flow.monitor_name = vm.monitor_name;\r\n                    vm.flow.monitor_type = vm.monitor_type;\r\n                    if (vm.flow.gather_rule == \'\') {\r\n                        vm.unit_id = -1;\r\n                        vm.message = \'\u8bf7\u9009\u62e9\u6d41\u7a0b\u6a21\u677f!\'\r\n                    }\r\n                    var node_times = [];\r\n                    for (var i = 4; i <= vm.location.length - 1; i++) {\r\n                        node_time.node_id = vm.location[i].id ,\r\n                        node_time.starttime = $(\'#\' + vm.location[i].id + \'\').find(\'.start_time\').text(),\r\n                        node_time.endtime = $(\'#\' + vm.location[i].id + \'\').find(\'.end_time\').text()\r\n                        node_time.node_name = $(\'#\' + vm.location[i].id + \'\').find(\'.node-title\').text()\r\n                        if (node_time.starttime == "") {\r\n                            vm.unit_id = -1;\r\n                            vm.message = \'\u8bf7\u914d\u7f6e\u6bcf\u4e2a\u8282\u70b9\u7684\u5f00\u59cb\u65f6\u95f4\';\r\n                        } else if (node_time.endtime == "") {\r\n                            vm.unit_id = -1;\r\n                            vm.message = \'\u8bf7\u914d\u7f6e\u6bcf\u4e2a\u8282\u70b9\u7684\u7ed3\u675f\u65f6\u95f4\';\r\n                        }\r\n                    }\r\n                    node_times.push(node_time);\r\n                    flow.node_times = node_times;\r\n                    flow.monitor_name = vm.monitor_name;\r\n                    flow.monitor_type = vm.monitor_type;\r\n                    console.log(vm.flow.gather_rule);\r\n                    flow.jion_id = vm.flow.gather_rule[0].id;\r\n                    flow.font_size = vm.flow.font_size;\r\n                    flow.height = vm.flow.height;\r\n                    flow.width = vm.flow.width;\r\n                    flow.period = vm.flow.period;\r\n                    flow.constants = vm.constants;\r\n                    //\u4e0a\u4f20\u6570\u636e\u81f3\u670d\u52a1\u5668\u4fdd\u5b58\r\n                    vm.monitor_data_save(vm.unit_id, flow);\r\n                //\u4fee\u6539\u540e\u7684\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6570\u636e\u4e0a\u4f20\u5904\u7406\r\n                }else if (vm.monitor_type == \'five\') {\r\n                    //\u5224\u65ad\u662f\u5426\u5df2\u7ecf\u8fdb\u884c\u91c7\u96c6\u6d4b\u8bd5\r\n                    if(null != this.gather_data_test_flag && false == this.gather_data_test_flag){\r\n                        this.$alert("\u91c7\u96c6\u6d4b\u8bd5\u672a\u901a\u8fc7\uff0c\u8bf7\u6821\u6b63\u63a5\u53e3\u8c03\u7528\u53c2\u6570\u6216\u7a0d\u540e\u91cd\u8bd5\uff01","\u9519\u8bef");\r\n                        vm.gather_data_test_flag = null;\r\n                    }else if(null == this.gather_data_test_flag){\r\n                        //\u83b7\u53d6\u91c7\u96c6\u6d4b\u8bd5\u6570\u636e\uff0c\u8c03\u7528\u540c\u6b65\u670d\u52a1\r\n                        vm.get_gather_test();\r\n                        //\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6570\u636e\u5904\u7406\r\n                        vm.base_monitor_data_process();\r\n                        //\u4e0a\u4f20\u76d1\u63a7\u9879\u6570\u636e\u81f3\u670d\u52a1\u5668\u4fdd\u5b58\r\n                        vm.monitor_data_save(vm.unit_id, flow);\r\n                    }else{\r\n                        //\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6570\u636e\u5904\u7406\r\n                        vm.base_monitor_data_process();\r\n                        //\u4e0a\u4f20\u76d1\u63a7\u9879\u6570\u636e\u81f3\u670d\u52a1\u5668\u4fdd\u5b58\r\n                        vm.monitor_data_save(vm.unit_id, flow);\r\n                    }\r\n                }\r\n            },\r\n            flow_change(value) {\r\n                vm.node_name(value)\r\n                vm.location = \'\'\r\n                vm.line = \'\'\r\n                axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/flow_change/\',\r\n                    data: {\r\n                        template_id: value\r\n                    }\r\n                }).then(function (res) {\r\n                    {\r\n                        vm.template_list.id=res.data.template_id[0].id\r\n                        vm.template_list.name=res.data.template_id[0].name\r\n                        vm.constants = res.data.constants\r\n                        var aa="  <div id=\\"flow1\\" class=\\"clearfix workflow-box\\" style=\\"width:1000px;position: relative;\\">\\n" +\r\n                            "\\n" +\r\n                            "                                        <div class=\\"workflow-canvas\\" style=\\"margin-left: 0px;padding-left: 0px\\">\\n" +\r\n                            "                                            <!-- \u753b\u5e03\u6a21\u677f start -->\\n" +\r\n                            "                                            <div class=\\"jtk-content\\">\\n" +\r\n                            "                                                <div class=\\"jtk-demo-canvas canvas-wide jtk-surface jtk-surface-nopan\\"\\n" +\r\n                            "                                                     id=\\"canvas\\" style=\\"height:500px\\">\\n" +\r\n                            "                                                    <!-- \u6d41\u7a0b -->\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                            <!-- \u753b\u5e03\u6a21\u677f end -->\\n" +\r\n                            "\\n" +\r\n                            "                                        </div>\\n" +\r\n                            "\\n" +\r\n                            "                                    <!-- template \u6a21\u677f-->\\n" +\r\n                            "                                        <div class=\\"jtk-delete jtk-none \\">\u5220\u9664\u8282\u70b9</div>\\n" +\r\n                            "                                        <div id=\\"template\\" class=\\"jtk-none\\">\\n" +\r\n                            "                                            <div class=\\"jtk-window jtk-node workfolw-node start-node\\" id=\\"{charts}\\" data-type=\\"EmptyEndEvent\\">\\n" +\r\n                            "                                               <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <img src=\\"')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/endpoint.png\\" style=\\"top: 5px;left: 20px;position: absolute;\\">\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                             <div class=\\"jtk-window jtk-node workfolw-node start-node\\" id=\\"{charts}\\" data-type=\\"EmptyStartEvent\\">\\n" +\r\n                            "                                                <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <img src=\\"')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/Start.png\\" style=\\"top: 5px;left: 20px;position: absolute;\\">\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                            <div class=\\"jtk-window jtk-node workfolw-node database-node\\" id=\\"{charts}\\" data-type=\\"ServiceActivity\\">\\n" +\r\n                            "                                                <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <div class=\\"node-content\\" style=\\"position: relative\\">\\n" +\r\n                            "                                                        <div class=\\"start_time\\"\\n" +\r\n                            "                                                             style=\\"position: absolute;width: 70px;height: 20px;top: -26px;left: 0px;\\"></div>\\n" +\r\n                            "                                                        <div class=\\"end_time\\"\\n" +\r\n                            "                                                             style=\\"position: absolute;width: 70px;height: 20px;top: -26px;right: 0px;\\"></div>\\n" +\r\n                            "                                                        <p class=\\"node-title\\" style=\\" overflow: hidden;text-overflow:ellipsis;white-space: nowrap;\\"></p>\\n" +\r\n                            "                                                    </div>\\n" +\r\n                            "                                                    <div class=\\"node-icon\\" style=\\"top: 26px;width: 100%;height: 100%;\\">\\n" +\r\n                            "                                                        <span class=\\"title\\" style=\\"top: -14px;height: 100%;position: relative;color: #F4FFF9;\\"></span>\\n" +\r\n                            "                                                    </div>\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                           <div class=\\"jtk-window jtk-node workfolw-node start-node\\" id=\\"{charts}\\" data-type=\\"ConvergeGateway\\">\\n" +\r\n                            "                                                 <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <img src=\\"')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/convergegateway.png\\">\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                            <div class=\\"jtk-window jtk-node workfolw-node start-node\\" id=\\"{charts}\\" data-type=\\"ParallelGateway\\">\\n" +\r\n                            "                                                <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <img src=\\"')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/canvas/ParallelGateway.png\\">\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                            <div class=\\"jtk-window jtk-node workfolw-node cog-node\\" id=\\"{charts}\\"\\n" +\r\n                            "                                                 data-type=\\"dataCog\\">\\n" +\r\n                            "                                                <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <div class=\\"node-content\\">\\n" +\r\n                            "                                                        <p class=\\"node-title\\"></p>\\n" +\r\n                            "                                                    </div>\\n" +\r\n                            "                                                    <div class=\\"node-icon\\">\\n" +\r\n                            "                                                        <i class=\\"bk-icon icon-cog\\"></i>\\n" +\r\n                            "                                                    </div>\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "\\n" +\r\n                            "                                            <div class=\\"jtk-window jtk-node workfolw-node filter-node\\" id=\\"{charts}\\"\\n" +\r\n                            "                                                 data-type=\\"dataFilter\\">\\n" +\r\n                            "                                                <div class=\\"node-wrapper\\">\\n" +\r\n                            "                                                    <div class=\\"node-content\\">\\n" +\r\n                            "                                                        <p class=\\"node-title\\"></p>\\n" +\r\n                            "                                                    </div>\\n" +\r\n                            "                                                    <div class=\\"node-icon\\">\\n" +\r\n                            "                                                        <i class=\\"bk-icon icon-circle\\"></i>\\n" +\r\n                            "                                                    </div>\\n" +\r\n                            "                                                </div>\\n" +\r\n                            "                                            </div>\\n" +\r\n                            "                                        </div>\\n" +\r\n                            "                                    </div>"\r\n                        $(\'#flow_canvas\').html(aa)\r\n                        vm.location = res.data.activities\r\n                        vm.line = res.data.flows\r\n                        //\u663e\u793a\u6d41\u7a0b\u5355\u5143\u4e2d\u7684\u9884\u89c8\u56fe\r\n                        $(\'#flow1\').dataflow({\r\n                            el: \'.tool\', //\u6d41\u7a0b\u62d6\u52a8\u6e90\r\n                            canvas: \'#canvas\', //\u753b\u5e03\r\n                            arrowWidth: 8,\r\n                            arrowHeight: 10,\r\n                            template: \'#template\',\r\n                            data:\r\n                                {\r\n                                    "line": vm.line, "location": vm.location\r\n                                }\r\n                        });\r\n                        let old_html  = $(\'#canvas\').html()\r\n                        $(\'#canvas\').html(\'<div style="transform: scale(0.65)">\'+old_html+\'</div>\')\r\n                    }\r\n                }).catch(function (e) {\r\n                    vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01\');\r\n                });\r\n            },\r\n            node_name(value) {\r\n                axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u"monitor_item/node_name/',\r\n                    data: {\r\n                        'id': value\r\n                    }\r\n                }).then(function (res) {\r\n                    vm.activities_node_name = res.data.activities\r\n                }).catch(function (e) {\r\n                    vm.$message.error('\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01');\r\n                });\r\n            },\r\n            Rendering_start_time() {\r\n                $('p:contains(' + vm.flow.node_name + ')').parent().find('.start_time').text(vm.activities_node_time.start_time)\r\n            },\r\n            Rendering_end_time() {\r\n                $('p:contains(' + vm.flow.node_name + ')').parent().find('.end_time').text(vm.activities_node_time.end_time)\r\n            },\r\n            canvas_new() {\r\n                if (vm.liucheng == 'block') {\r\n                    var node_id = ''\r\n                    var start_time = ''\r\n                    var end_time = ''\r\n                    var node_times = []\r\n                    for (var i = 2; i <= vm.location.length - 1; i++) {\r\n                        var node_time = {}\r\n                        node_time.node_id = vm.location[i].id ,\r\n                            node_time.starttime = $('#' + vm.location[i].id + '').find('.start_time').text(),\r\n                            node_time.endtime = $('#' + vm.location[i].id + '').find('.end_time').text()\r\n                        node_time.node_name = $('#' + vm.location[i].id + '').find('.node-title').text()\r\n                        node_times.push(node_time)\r\n                    }\r\n                    var period = $('#period').val()\r\n                    var template_list = vm.template_list\r\n                    axios({\r\n                        method: 'post',\r\n                        url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u"monitor_item/start_flow_task/',\r\n                        data: {\r\n                            'period': period,\r\n                            'template_list': template_list,\r\n                            'node_times': node_times,\r\n                            'monitor_name': vm.monitor_name,\r\n                            'monitor_type': vm.monitor_type,\r\n                            'constants': vm.constants\r\n                        }\r\n                    }).then(function (res) {\r\n                        setInterval(function () {\r\n                            axios({\r\n                                method: 'post',\r\n                                url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u"monitor_item/node_state/',\r\n                                data: {\r\n                                    'item_id': res.data\r\n                                }\r\n                            }).then(function (res) {\r\n                                len = res.data.message.length\r\n                                for (var i = 0; i <= len - 1; i++) {\r\n                                    data_key = res.data.message[i].data_value\r\n                                    if (data_key == '1' || data_key == '4') {\r\n                                        $('p:contains(' + res.data.message[i].data_key + ')').parent().siblings('.node-icon').css('background', '#67c23a')\r\n                                    } else if (data_key == '0' || data_key == '2' || data_key == '3') {\r\n                                        $('p:contains(' + res.data.message[i].data_key + ')').parent().siblings('.node-icon').css('background', '#f56c6c')\r\n                                    }\r\n                                }\r\n                        }).catch(function (e) {\r\n                            vm.$message.error('\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01');\r\n                        });\r\n                        },13000)\r\n                    }).catch(function (e) {\r\n                        vm.$message.error('\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01');\r\n                    });\r\n                }else if(vm.liucheng == 'none'){\r\n                    var period = $('#period').val()\r\n                    var template_list = vm.template_list\r\n                    axios({\r\n                        method: 'post',\r\n                        url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/flow_gather_test/\',\r\n                        data: {}\r\n                    }).then(function () {\r\n                    }).catch(function (e) {\r\n                        vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01\');\r\n                    });\r\n                }\r\n            },\r\n            add_unit(row) {                         //\u65b0\u589e\u5355\u5143\r\n                {\r\n                    if (vm.add_pamas == 1) {\r\n                        vm.Initialization()\r\n                    }\r\n                    vm.add_pamas = 0;\r\n                    vm.monitor_name = \'\';\r\n                    //\u53d6\u6d88\u9ed8\u8ba4\u6dfb\u52a0\u65f6\u5c55\u793a\u57fa\u672c\u76d1\u63a7\u9879\r\n                    vm.disabled2 = false;\r\n                    vm.disabled3 = false;\r\n                    vm.disabled4 = false;\r\n                    vm.disabled5 = false;\r\n                    /*\r\n                    vm.monitor_type = \'first\';*/\r\n                    //\u9ed8\u8ba4\u6dfb\u52a0\u65f6\u5c55\u793a\u57fa\u672c\u76d1\u63a7\u9879\uff08\u4fee\u6539\u540e\uff09\r\n                    //\u76d1\u63a7\u9879\u7c7b\u578b\u8bbe\u7f6e\r\n                    this.monitor_type = \'five\';\r\n                    //\u6570\u636e\u6765\u6e90\u9009\u9879\u9ed8\u8ba4\u5207\u6362\u4e3a\u63a5\u53e3\r\n                    this.sql_file_interface = 9;\r\n                    //\u91c7\u96c6\u53c2\u6570gather_params\u9ed8\u8ba4\u7f6e\u4e3ainterface\r\n                    this.base[\'gather_params\'] = \'interface\';\r\n                    //\u5207\u6362\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6570\u636e\u6765\u6e90\u7c7b\u578b\u5c55\u793a\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u9ed8\u8ba4\u5207\u6362\u4e3a\u63a5\u53e3\r\n                    this.base_gather_source_change(\'interface\');\r\n                    //--------------------------\r\n                    vm.unit_id = row;\r\n                    vm.centerDialogVisible = true;\r\n                    //\u53d6\u6d88\u539f\u6709\u57fa\u672c\u76d1\u63a7\u9879\u65f6\u9ed8\u8ba4\u52a0\u8f7d\u6570\u636e\u5e93\u8fde\u63a5\u4fe1\u606f\r\n                    this.get_db_connections();\r\n                }\r\n            },\r\n            del() {\r\n                vm.edit(0)\r\n            },\r\n            change1(value) {\r\n                if (value == 3) {\r\n                    $("#data_gather_rule").find("label").html("\u6570\u636e\u91c7\u96c6SQL");\r\n                    vm.sql1 = \'block\';\r\n                    vm.file1 = \'none\';\r\n                    vm.interface1 = \'none\';\r\n                    vm.server_url = \'\';\r\n                    vm.file_param = \'\';\r\n                    vm.basic.gather_rule = \'\';\r\n                    vm.basic.gather_params = \'sql\';\r\n                    //\u4fee\u6539\u540e\u7684\u57fa\u672c\u76d1\u63a7\u9879\u7684\u91c7\u96c6\u7c7b\u578b\u8bbe\u7f6e\r\n                    vm.base.gather_params = \'sql\';\r\n                    //----------------------------\r\n                } else if (value == 6) {\r\n                    vm.typeid = \'2\';\r\n                    vm.sql1 = \'none\';\r\n                    vm.file1 = \'block\';\r\n                    vm.interface1 = \'none\';\r\n                    vm.server_url = \'\';\r\n                    vm.file_param = \'\';\r\n                    vm.basic.gather_rule = \'\';\r\n                    vm.basic.gather_params = \'file\';\r\n                    //\u4fee\u6539\u540e\u7684\u57fa\u672c\u76d1\u63a7\u9879\u7684\u91c7\u96c6\u7c7b\u578b\u8bbe\u7f6e\r\n                    vm.base.gather_params = \'file\';\r\n                    //----------------------------\r\n                } else if (value == 9) {\r\n                    vm.typeid = \'3\';\r\n                    vm.sql1 = \'none\';\r\n                    vm.file1 = \'none\';\r\n                    vm.interface1 = \'block\';\r\n                    vm.server_url = \'\';\r\n                    vm.file_param = \'\';\r\n                    vm.basic.gather_rule = \'\';\r\n                    vm.basic.gather_params = \'interface\';\r\n                    //\u4fee\u6539\u540e\u7684\u57fa\u672c\u76d1\u63a7\u9879\u7684\u91c7\u96c6\u7c7b\u578b\u8bbe\u7f6e\r\n                    vm.base.gather_params = \'interface\';\r\n                    //----------------------------\r\n                }\r\n            },\r\n            change2(value) {\r\n                if (value == 1) {\r\n                    vm.zuoye = \'block\';\r\n                } else {\r\n                    vm.zuoye = \'none\';\r\n                }\r\n            },\r\n            change3(value) {\r\n                if (value == 1) {\r\n                    vm.liucheng = \'block\';\r\n                } else {\r\n                    vm.liucheng = \'none\';\r\n                }\r\n            },\r\n            change_job_fontSize() {       //\u4fee\u6539\u4f5c\u4e1a\u5355\u5143\u4e2d\u9884\u89c8\u5b57\u4f53\r\n                $(\'#job_text\').find("*").css(\'font-size\', this.job.font_size);\r\n            },\r\n            change_job_height() {       //\u4fee\u6539\u4f5c\u4e1a\u5355\u5143\u4e2d\u9884\u89c8\u9ad8\u5ea6\r\n                $(\'#job_text\').css(\'height\', this.job.height);\r\n            },\r\n            change_job_width() {       //\u4fee\u6539\u4f5c\u4e1a\u5355\u5143\u4e2d\u9884\u89c8\u5bbd\u5ea6\r\n                $(\'#job_text\').css(\'width\', this.job.width);\r\n            },\r\n            change_job_contents() {       //\u4f5c\u4e1a\u5355\u5143\u663e\u793a\u5185\u5bb9\r\n                let contents = vm.job.contents;\r\n                let job_status = contents.split(\'@\')[1].split(\'=\')[1];\r\n                let item_id = \'item_id\'\r\n                var job_params = {\r\n                    \'id\': item_id,\r\n                    \'width\': vm.job.width,\r\n                    \'height\': vm.job.height,\r\n                    \'status\': job_status,\r\n                };\r\n                $(\'#job_text\').html(\'\');\r\n                $(\'#job_text\').append(\'<div type=\\"job\' + item_id + \'\\" style=\\"margin:0 auto;\\"></div>\');\r\n                job_monitor_active(job_params);\r\n            },\r\n            job_test() {\r\n                vm.disabled1 = true;\r\n                setTimeout(function () {\r\n                    vm.disabled1 = false;\r\n                }, 3000);\r\n                var job_params1 = {\r\n                    \'id\': \'item_id\',\r\n                    \'width\': vm.job.width,\r\n                    \'height\': vm.job.height,\r\n                    \'status\': 2,\r\n                };\r\n                $(\'#job_text\').html(\'\');\r\n                $(\'#job_text\').append(\'<div type=\\"jobitem_id\\" style=\\"margin:0 auto;\\"></div>\');\r\n                job_monitor_active(job_params1);\r\n                axios({\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/job_test/\',\r\n                    method: \'post\',\r\n                    data: {\r\n                        \'gather_params\': vm.job.gather_params,\r\n                        \'job_id\': vm.job.gather_rule,\r\n                        \'params\': vm.job.params,\r\n                    },\r\n                }).then((res) => {\r\n                    let status = res[\'data\'][\'result\'];\r\n                    let job_status = 0;\r\n                    switch (status) {\r\n                        case true:\r\n                            job_status = 1;\r\n                            console.log(1)\r\n                            break;\r\n                        case false:\r\n                            job_status = -1;\r\n                            console.log(-1)\r\n                            break;\r\n                        default:\r\n                            job_status = 2;\r\n                            console.log(2)\r\n                    }\r\n                    let item_id = \'item_id\'\r\n                    var job_params = {\r\n                        \'id\': item_id,\r\n                        \'width\': vm.job.width,\r\n                        \'height\': vm.job.height,\r\n                        \'status\': job_status,\r\n                    };\r\n                    $(\'#job_text\').html(\'\');\r\n                    $(\'#job_text\').append(\'<div type=\\"job\' + item_id + \'\\" style=\\"margin:0 auto;\\"></div>\');\r\n                    job_monitor_active(job_params);\r\n                }).catch(function (e) {\r\n                    vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01\');\r\n                });\r\n            },\r\n            rowclass({row, rowIndex}) {\r\n                return \'background:#F7F7F7\'\r\n            },\r\n            font_size() {        //\u4fee\u6539\u6d41\u7a0b\u5355\u5143\u4e2d\u7684\u8868\u5b57\u4f53\r\n                $("#canvas").find(\'*\').css("font-size", this.flow.font_size)\r\n            },\r\n            flow_height() {      //\u4fee\u6539\u6d41\u7a0b\u5355\u5143\u4e2d\u7684\u9ad8\r\n                $("#canvas").find(\'*\').css("height", this.flow.height)\r\n            },\r\n            flow_width() {       //\u4fee\u6539\u6d41\u7a0b\u5355\u5143\u4e2d\u7684\u5bbd\r\n                $("#canvas").find(\'*\').css("width", this.flow.height)\r\n            },\r\n            get_db_connections() {\r\n                axios({\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'db_connection/get_all_db_connection/\',\r\n                    method: \'post\',\r\n                }).then((res) => {\r\n                    let json = [];\r\n                    if (res.data.results.length > 0) {\r\n                        for (let i = 0; i < res.data.results.length; i++) {\r\n                            let j = {};\r\n                            j.value = res.data.results[i].id;\r\n                            j.label = res.data.results[i].connname;\r\n                            json.push(j);\r\n                        }\r\n                        ;\r\n                        this.sites1 = json;\r\n                    }\r\n                }).catch(function (e) {\r\n                    vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01\');\r\n                });\r\n            },\r\n            //\u521d\u59cb\u5316\r\n            Initialization() {\r\n                Object.assign(vm.basic, {});\r\n                Object.assign(vm.basic, vm.basic1);\r\n                Object.assign(vm.job, {});\r\n                Object.assign(vm.job, vm.job1);\r\n                Object.assign(vm.flow, {});\r\n                Object.assign(vm.flow, vm.flow7);\r\n                Object.assign(vm.chart, {});\r\n                Object.assign(vm.chart, vm.chart1);\r\n                vm.server_url = \'\';\r\n                vm.file_param = \'\';\r\n                vm.sql_file_interface = 3\r\n            },\r\n            //\u663e\u793a\u56fe\u6807\r\n            show_chart() {\r\n                if (this.myChart != null && this.myChart != "" && this.myChart != undefined) {\r\n                    this.myChart.dispose();\r\n                }\r\n                if (vm.chart.gather_params == "\u997c\u56fe") {\r\n                    this.myChart = echarts.init(document.getElementById(\'maintenancePie\'), \'macarons\');\r\n                    let legendData = [];\r\n                    for (let i = 0; i < vm.chartData.length; i++) {\r\n                        this.$set(legendData, i, vm.chartData[i].name);\r\n                    }\r\n                    option = {\r\n                        tooltip: {\r\n                            trigger: \'item\',\r\n                            formatter: "{a} <br/>{b} : {c} ({d}%)"\r\n                        },\r\n                        legend: {\r\n                            type: \'scroll\',\r\n                            orient: \'vertical\',\r\n                            right: 10,\r\n                            bottom: 50,\r\n                            data: legendData\r\n                        },\r\n                        series: [\r\n                            {\r\n                                name: vm.person_count,\r\n                                type: \'pie\',\r\n                                radius: \'50%\',\r\n                                center: [\'50%\', \'30%\'],\r\n                                data: vm.chartData,\r\n                                itemStyle: {\r\n                                    emphasis: {\r\n                                        shadowBlur: 10,\r\n                                        shadowOffsetX: 0,\r\n                                        shadowColor: \'rgba(0, 0, 0, 0.5)\'\r\n                                    }\r\n                                },\r\n                                avoidLabelOverlap: false,\r\n                                label: {\r\n                                    normal: {\r\n                                        show: true,\r\n                                        position: \'inside\',\r\n                                        formatter: \'{c}\'\r\n                                    }\r\n                                },\r\n                                labelLine: {\r\n                                    normal: {\r\n                                        show: false\r\n                                    },\r\n                                    emphasis: {\r\n                                        show: true\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                    };\r\n                    this.myChart.setOption(option);\r\n                }\r\n                if (vm.chart.gather_params == "\u67f1\u72b6\u56fe") {\r\n                    this.myChart = echarts.init(document.getElementById(\'maintenancePie\'), \'macarons\');\r\n                    let barX = [];\r\n                    let barCount = [];\r\n                    for (var i = 0; i < vm.chartData.length; i++) {\r\n                        this.$set(barX, i, vm.chartData[i].name);\r\n                        this.$set(barCount, i, vm.chartData[i].value);\r\n                    }\r\n                    option = {\r\n                        tooltip: {\r\n                            trigger: \'axis\',\r\n                            axisPointer: {            // \u5750\u6807\u8f74\u6307\u793a\u5668\uff0c\u5750\u6807\u8f74\u89e6\u53d1\u6709\u6548\r\n                                type: \'shadow\'        // \u9ed8\u8ba4\u4e3a\u76f4\u7ebf\uff0c\u53ef\u9009\u4e3a\uff1a\'line\' | \'shadow\'\r\n                            }\r\n                        },\r\n                        barWidth: 15,\r\n                        legend: {\r\n                            data: [\'\u5df2\u6267\u884c\'],\r\n                            bottom: 10,\r\n                            right: 30\r\n                        },\r\n                        grid: {\r\n                            left: \'3%\',\r\n                            right: \'4%\',\r\n                            top: 10,\r\n                            containLabel: true\r\n                        },\r\n                        xAxis: {\r\n                            type: \'category\',\r\n                            data: barX\r\n                        },\r\n                        yAxis: {\r\n                            type: \'value\'\r\n                        },\r\n                        series: [\r\n                            {\r\n                                name: vm.person_count,\r\n                                type: \'bar\',\r\n                                data: barCount\r\n                            },\r\n                        ]\r\n                    };\r\n                    this.myChart.setOption(option);\r\n                }\r\n                if (vm.chart.gather_params == "\u6298\u7ebf\u56fe") {\r\n                    this.myChart = echarts.init(document.getElementById(\'maintenancePie\'), \'macarons\');\r\n                    let lineX = [];\r\n                    let lineCount = [];\r\n                    for (var i = 0; i < vm.chartData.length; i++) {\r\n                        this.$set(lineX, i, vm.chartData[i].name);\r\n                        this.$set(lineCount, i, vm.chartData[i].value);\r\n                    }\r\n                    option = {\r\n                        tooltip: {\r\n                            trigger: \'axis\'\r\n                        },\r\n                        legend: {\r\n                            data: [vm.person_count]\r\n                        },\r\n                        calculable: true,\r\n                        xAxis: [\r\n                            {\r\n                                type: \'category\',\r\n                                boundaryGap: false,\r\n                                data: lineX\r\n                            }\r\n                        ],\r\n                        yAxis: [\r\n                            {\r\n                                type: \'value\'\r\n                            }\r\n                        ],\r\n                        series: [\r\n                            {\r\n                                name: vm.person_count,\r\n                                type: \'line\',\r\n                                smooth: true,\r\n                                itemStyle: {normal: {areaStyle: {type: \'default\'}}},\r\n                                data: lineCount\r\n                            },\r\n                        ]\r\n                    };\r\n                    this.myChart.setOption(option);\r\n                }\r\n                vm.echart_height();\r\n                vm.echart_width();\r\n            },\r\n            show_content() {\r\n                let content = vm.chart.contents;\r\n                let obj = JSON.parse(content);\r\n                let echartData = [];\r\n                for (let i = 0; i < obj.X.v.length; i++) {\r\n                    let obj_1 = {};\r\n                    obj_1.name = obj.X.v[i];\r\n                    obj_1.value = obj.Y.v[i];\r\n                    this.$set(echartData, i, obj_1);\r\n                }\r\n                vm.chartData = echartData;\r\n                vm.show_chart();\r\n                vm.echart_height();\r\n                vm.echart_width();\r\n            },\r\n            chart_get_test(){\r\n                axios({\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/chart_get_test/\',\r\n                    method: \'post\',\r\n                    data: {\r\n                        database_id: vm.chart.params,\r\n                        sql: vm.chart.gather_rule,\r\n                    },\r\n                }).then((res) => {\r\n                    if (res.data.result) {\r\n                        this.$message({\r\n                            message: \'\u6570\u636e\u91c7\u96c6\u6210\u529f\uff0c\u8bf7\u9009\u62e9\u56fe\u8868\u7c7b\u578b\u8fdb\u884c\u67e5\u770b\uff01\',\r\n                            type: \'success\',\r\n                            center: true\r\n                        })\r\n                    } else {\r\n                        this.$message({\r\n                            message: \'\u6570\u636e\u91c7\u96c6\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u914d\u7f6e\u6216\u91c7\u96c6\u89c4\u5219\uff01\',\r\n                            type: \'warning\',\r\n                            center: true\r\n                        })\r\n                    }\r\n                    vm.chartData = res.data.results;\r\n                    vm.person_count = res.data.column_name_list[0];\r\n                    vm.show_chart();\r\n                    vm.echart_height();\r\n                    vm.echart_width();\r\n                }).catch(function (e) {\r\n                    vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01\');\r\n                });\r\n            },\r\n            echart_height() {\r\n                $(\'#maintenanceIndex\').find("canvas").css(\'height\', vm.chart.height);\r\n            },\r\n            echart_width() {\r\n                $(\'#maintenanceIndex\').find("canvas").css(\'width\', vm.chart.width)\r\n            },\r\n            base_height_change(){\r\n                collection_base_height_change(vm,\'#base_test_text\');\r\n            },\r\n            base_width_change(){\r\n                collection_base_width_change(vm,\'#base_test_text\');\r\n            },\r\n            switch_change(value) {\r\n                axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_item/change_status/\',\r\n                    data: {\r\n                        flag: value.status,\r\n                        id: value.id,\r\n                        monitor_name: value.monitor_name\r\n                    },\r\n                }).then((res) =>{\r\n                    if (res.data.code == 1) {alert(res.data.message)}\r\n                }).catch(function (e) {\r\n                    vm.$message.error(\'\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff01\');\r\n                });\r\n            },\r\n            //\u83b7\u53d6\u6307\u6807\u96c6\r\n            get_gather_info(value) {\r\n                this.base.measures = \'\';\r\n                this.base.measures_name = \'\';\r\n                vm.iqube_name = [];\r\n                //\u65e5\u5fd7\u76d1\u63a7\u9879\u6a21\u62df\u6570\u636e,\u76ee\u524d\u4e00\u4f53\u5316\u5e73\u53f0\u6ca1\u6709\u6570\u636e\r\n                if("get_log_type/" == value){\r\n                    var temp_json = {\'label\': \'zy-shangpin-initial\', \'value\': \'zy-shangpin-initial\'};\r\n                    vm.iqube_name.push(temp_json)\r\n                }else{\r\n                    vm.loading = true;\r\n                    axios({\r\n                        url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'iqube_interface/\'+value,\r\n                    }).then((res) => {\r\n                        vm.gather_list = res.data.results;\r\n                        for (let i = 0; i < res.data.results.length; i++) {\r\n                            // \u7b2c\u4e00\u4e2a\r\n                            for (let j in res.data.results[i]) {\r\n                                temp_json = {\'label\': j, \'value\': j};\r\n                                vm.iqube_name.push(temp_json)\r\n                            }\r\n                        }\r\n                        //\u5728\u7b2c\u4e00\u6b21\u7f16\u8f91\u7684\u60c5\u51b5\u4e0b\uff0c\u6839\u636e\u5f53\u524d\u6765\u6e90\u540d\u79f0\u52a0\u8f7d\u5bf9\u5e94\u7684\u5019\u9009\u5ea6\u91cf\u503c\r\n                        if(\'1\' == vm.add_pamas && vm.loading == true){\r\n                            this.change_measures(vm.base[\'measures\']);\r\n                        }\r\n                        vm.loading = false;\r\n                    }).catch((res) => {\r\n                        console.error("\u83b7\u53d6\u6307\u6807\u96c6\u5931\u8d25"+res);\r\n                        vm.loading = false;\r\n                    });\r\n                }\r\n            },\r\n            //\u83b7\u53d6\u6307\u6807\u540d\u79f0\r\n            change_measures(value) {\r\n                //base_monitor_edit_init\u9ed8\u8ba4\u4e3atrue\u4ee3\u8868\u5904\u4e8e\u70b9\u51fb\u7f16\u8f91\u540e\u7684\u6570\u636e\u521d\u59cb\u5316\u540e\u7684\u72b6\u6001\uff0c\r\n                //\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u6e05\u9664\u5176\u521d\u59cb\u5316\u597d\u7684\u5ea6\u91cf\u503c\u3002\u5982\u679c\u4e0d\u662f\u6570\u636e\u521d\u59cb\u5316\u540e\u7684\u72b6\u6001\uff0c\r\n                // \u800c\u662f\u901a\u8fc7\u624b\u52a8\u70b9\u51fb\u6765\u6e90\u540d\u79f0\u4e0b\u62c9\u6846\u7684\u5f62\u5f0f\u8c03\u7528\u6b64\u51fd\u6570\uff0c\r\n                // \u5c06\u4f1a\u6e05\u7a7a\u5176\u5ea6\u91cf\u503c\uff0c\u907f\u514d\u5728\u6539\u53d8\u6765\u6e90\u540d\u79f0\u4e4b\u540e\u8fd8\u662f\u539f\u6765\u7684\u5ea6\u91cf\u503c\u540d\u79f0\uff0c\r\n                // \u5bfc\u81f4\u5ea6\u91cf\u503c\u5019\u9009\u9879\u4e2d\u672b\u5c3e\u51fa\u73b0\u6682\u65e0\u6570\u636e\u7684BUG\r\n                if(null != vm.base[\'measures_name\'] || vm.base[\'measures_name\'] != \'\'){\r\n                    if(!this.base_monitor_edit_init || !this.base_monitor_add_init){\r\n                        vm.base[\'measures_name\'] = \'\';\r\n                    }\r\n                }\r\n                //\u65e5\u5fd7\u76d1\u63a7\u9879\u6a21\u62df\u6570\u636e\r\n                if(this.base.interface_type == \'log\'){\r\n                    vm.metric_list = {0:\'system-init\'};\r\n                }\r\n                //\u5982\u679c\u662f\u70b9\u51fb\u7f16\u8f91\u540e\u7684\u6570\u636e\u521d\u59cb\u5316\u65f6\u89e6\u53d1\u7684\u6b64\u51fd\u6570\uff0cbase_monitor_edit_init\u6807\u8bb0\r\n                //\u7f6e\u4e3afalse\uff0c\u5728\u4e0b\u6b21\u89e6\u53d1change_measures\u51fd\u6570\u65f6\u5c06\u6e05\u7a7a\u5ea6\u91cf\u503c\r\n                if(this.base_monitor_edit_init){\r\n                    if(\'1\' == vm.add_pamas){\r\n                        this.base_monitor_edit_init = false;\r\n                    }else if(\'0\' == vm.add_pamas){\r\n                        this.base_monitor_add_init = false;\r\n                    }else{\r\n                        console.log(\'\u89e6\u53d1\u7c7b\u578b\u4e0d\u662f\u6dfb\u52a0/\u4fee\u6539\uff01\')\r\n                    }\r\n                }\r\n                for(let i in vm.gather_list){\r\n                    for (let key in vm.gather_list[i]){\r\n                        if (key === value){\r\n                            vm.metric_list = vm.gather_list[i][key][\'metric_list\']\r\n                            vm.dimension_list = vm.gather_list[i][key][\'dimension_list\']\r\n                        }\r\n                    }\r\n                }\r\n                console.log(vm.dimension_list);\r\n            },\r\n            //\u5207\u6362\u6765\u6e90\u7c7b\u578b\r\n            change_source_type(value){\r\n                if (value == \'log\'){\r\n                    vm.get_gather_info(\'get_log_type/\')\r\n                }else{\r\n                    vm.get_gather_info(\'get_measures_type/\')\r\n                }\r\n            },\r\n            //\u91c7\u96c6\u6d4b\u8bd5\u65b9\u6cd5\r\n            base_cell_test(){\r\n                //\u4e00\u4f53\u5316\u6307\u6807\u7684\u91c7\u96c6\u6d4b\u8bd5\u76ee\u524d\u53ea\u505a\u4e86\u63a5\u53e3\u90e8\u5206\u7684\r\n                //\u540c\u6b65\u83b7\u53d6\u91c7\u96c6\u6570\u636e\r\n                vm.get_gather_test();\r\n                //\u9884\u89c8\u91c7\u96c6\uff0c\u8c03\u7528\u9884\u89c8\u7ec4\u4ef6\r\n                preview_monitor_item(vm ,\'monitor_item\',"#base_test_text");\r\n            },\r\n            change_data_sources(value){\r\n                if(value == 9){\r\n                    //\u63a5\u53e3\u7c7b\u578b\r\n                    vm.file_show = false;\r\n                    vm.interface_show = true;\r\n                    vm.database_show = false;\r\n                    vm.change1(9);\r\n                }else if (value == 6){\r\n                    //\u6587\u4ef6\r\n                    vm.file_show = true;\r\n                    vm.interface_show = false;\r\n                    vm.database_show = false;\r\n                    vm.change1(6);\r\n                }else if (value == 3){\r\n                    //\u6570\u636e\u5e93\r\n                    vm.change1(3);\r\n                    vm.file_show = false;\r\n                    vm.interface_show = false;\r\n                    vm.database_show = true;\r\n                }\r\n            },\r\n            // \u9884\u89c8\u7c7b\u5bb9\u7f16\u8f91\r\n            // \u91c7\u96c6\u8868\u4e2d\u4fdd\u5b58\u7684\u662f\u5b9e\u9645\u8c03\u7528\u4e00\u4f53\u5316\u5e73\u53f0\u7684\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5728\u573a\u666f\u7f16\u6392\u4e2d\u518d\u6839\u636e\u5c55\u793a\u89c4\u5219\u8fd8\u539f\u9884\u89c8\u6548\u679c\r\n            content_change(){\r\n                collection_content_change(vm ,"#base_test_text")\r\n            }\r\n        },\r\n        mounted() {\r\n            this.get_header_data()\r\n            this.get_all_area()\r\n        },\r\n    });\r\n    vm.show();\r\n</script>\r\n<script>\r\n    setInterval(function () {\r\n        $(\'input[type=number]\').keypress(function (e) {\r\n            if (!String.fromCharCode(e.keyCode).match(/[0-9\\.]/)) {\r\n                return false;\r\n            }\r\n        });\r\n    }, 1)\r\n    $(function(){\r\n    })\r\n</script>\r\n</html>')
        return ''
    finally:
        context.caller_stack._pop_frame()


"""
__M_BEGIN_METADATA
{"source_encoding": "utf-8", "line_map": {"16": 0, "23": 1, "24": 4, "25": 4, "26": 6, "27": 6, "28": 8, "29": 8, "30": 10, "31": 10, "32": 12, "33": 12, "34": 13, "35": 13, "36": 14, "37": 14, "38": 15, "39": 15, "40": 22, "41": 22, "42": 23, "43": 23, "44": 25, "45": 25, "46": 26, "47": 26, "48": 27, "49": 27, "50": 597, "51": 597, "52": 602, "53": 602, "54": 621, "55": 621, "56": 626, "57": 626, "58": 1608, "59": 1608, "60": 1632, "61": 1632, "62": 1660, "63": 1660, "64": 1860, "65": 1860, "66": 2032, "67": 2032, "68": 2052, "69": 2052, "70": 2072, "71": 2072, "72": 2129, "73": 2129, "74": 2201, "75": 2201, "76": 2412, "77": 2412, "78": 2440, "79": 2440, "80": 2445, "81": 2445, "82": 2464, "83": 2464, "84": 2469, "85": 2469, "86": 2522, "87": 2522, "88": 2556, "89": 2556, "90": 2569, "91": 2569, "92": 2595, "93": 2595, "94": 2727, "95": 2727, "96": 2778, "97": 2778, "98": 2972, "99": 2972, "100": 3016, "101": 3016, "102": 3040, "103": 3040, "109": 103}, "uri": "./monitor_item/show_message.html", "filename": "D:/py-workspace/LanhuSaas/framework/templates/monitor_item/show_message.html"}
__M_END_METADATA
"""
