# -*- coding:utf-8 -*-
from mako import runtime, filters, cache
UNDEFINED = runtime.UNDEFINED
STOP_RENDERING = runtime.STOP_RENDERING
__M_dict_builtin = dict
__M_locals_builtin = locals
_magic_number = 10
_modified_time = 1545803034.323352
_enable_loop = True
_template_filename = '/Users/zhanglibing/vagrant/django18/LanhuSaas/framework/templates/common/carousel.html'
_template_uri = './common/carousel.html'
_source_encoding = 'utf-8'
_exports = []


def render_body(context,**pageargs):
    __M_caller = context.caller_stack._push_frame()
    try:
        __M_locals = __M_dict_builtin(pageargs=pageargs)
        APP_ID = context.get('APP_ID', UNDEFINED)
        STATIC_URL = context.get('STATIC_URL', UNDEFINED)
        SITE_URL = context.get('SITE_URL', UNDEFINED)
        __M_writer = context.writer()
        __M_writer(u'<!DOCTYPE html>\n<html>\n<head>\n\t<meta charset="utf-8">\n\t<title>\u8f6e\u64ad\uff08Carousel\uff09</title>\n\n    <!--start--jQuery\u4f9d\u8d56 \u7248\u672c2.1.1-->\n\t<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>\n\t<!--end--jQuery\u4f9d\u8d56 \u7248\u672c2.1.1-->\n\n    <!--strat--bootstarp\u4f9d\u8d56-->\n\t<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">\n\t<script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/bootstrap-3.3.4/js/bootstrap.min.js"></script>\n\t<!--end--bootstarp\u4f9d\u8d56-->\n\n    <!--start--toastr.js-->\n    <link href="https://cdn.bootcss.com/toastr.js/latest/css/toastr.css" rel="stylesheet">\n    <script src="https://cdn.bootcss.com/toastr.js/latest/js/toastr.min.js"></script>\n    <!--end--toastr.js-->\n\n    <!--\u53c2\u6570\u521d\u59cb\u5316-->\n    <script type="text/javascript">\n        var app_id = "')
        __M_writer(unicode(APP_ID))
        __M_writer(u'";\n        var site_url = "')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'";\t        // app\u7684url\u524d\u7f00,\u5728ajax\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u52a0\u4e0a\u8be5\u524d\u7f00\n        var static_url = "')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'";     // \u9759\u6001\u8d44\u6e90\u524d\u7f00\n    </script>\n    <script type="text/javascript">\n        /***var window_height = $(document).height();\n        $(function () {\n            alert(window_height);\n        })**/\n    </script>\n</head>\n<body style=" overflow-x:hidden;overflow-y:hidden">\n\n<!--start--\u8f6e\u64ad\u5757-->\n<div id="myCarousel" class="carousel slide">\n\t<!-- \u8f6e\u64ad\uff08Carousel\uff09\u6307\u6807 -->\n\t<ol class="carousel-indicators">\n\t\t<li data-target="#myCarousel" data-slide-to="0" class="active"></li>\n\t\t<li data-target="#myCarousel" data-slide-to="1"></li>\n\t\t<li data-target="#myCarousel" data-slide-to="2"></li>\n\t</ol>\n\n\t<!-- \u8f6e\u64ad\uff08Carousel\uff09\u9879\u76ee -->\n\t<div class="carousel-inner">\n\n\t</div>\n\n\t<!-- \u8f6e\u64ad\uff08Carousel\uff09\u5bfc\u822a -->\n\t<!--<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">\n\t    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t    <span class="sr-only">Previous</span>\n\t</a>\n\t<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">\n\t    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t    <span class="sr-only">Next</span>\n\t</a>-->\n\n</div>\n<!--end--\u8f6e\u64ad\u5757-->\n\n\n<template class="temp_carousel_inner">\n    <div class="item">\n        <img src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/#scene_example#" alt="#scene_example#" style="margin: 0 auto">\n    </div>\n</template>\n<template class="temp_carousel_inner_active">\n    <div class="item active">\n        <img src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'img/#scene_example#" alt="#scene_example#" style="margin: 0 auto">\n    </div>\n</template>\n\n<template class="temp_carousel_inner_li_active">\n    <li data-target="#myCarousel" class="active"></li>\n</template>\n\n<template class="temp_carousel_inner_li">\n    <li data-target="#myCarousel"></li>\n</template>\n\n\n<script>\n\n    //\u524d\u540e\u7aef\u6570\u636e\u4ea4\u4e92\u901a\u7528\u65b9\u6cd5\n    function renderTpl(str, cfg) {\n        var re = /(#(.+?)#)/g;\n\n        return str.replace(re, function() {\n            var val = cfg[arguments[2]]+\'\';\n            if(typeof val == \'undefined\') {\n                val = \'\';\n            }\n            return val;\n        });\n    };\n\n    //\u521d\u59cb\u5316iframe\n    function init_iframe(carousel_time){\n        var window_height = $(document).height;\n        $(\'.carousel iframe\').height(window_height);    //\u83b7\u53d6\u5c4f\u5e55\u9ad8\u5ea6\n        $(\'.carousel iframe\').attr("scrolli0ng","no");  //\u8bbe\u7f6eiframe\u65e0\u6eda\u52a8\u6761\n        $(\'.carousel iframe\').attr("frameborder",0);    //\u8bbe\u7f6eiframe\u65e0\u8fb9\u6846\n        $(\'.carousel\').carousel({\n            interval: carousel_time,\n            pause:null\n        });\n    }\n\n    //\u7a97\u53e3\u521d\u59cb\u5316\u4e8b\u4ef6\n\t$(function(){\n\t    $.ajax({\n           url:"')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'get_staff_scene",\n            type:\'GET\',\n            dataType: \'json\',\n            success:function (data) {\n                var result_length = data.results.length;        // \u7ed3\u679c\u957f\u5ea6\n\n                //\u8f6e\u64adli\u6807\u7b7e\n                var _html_li = "";\n                var tpl_li = $(\'.temp_carousel_inner_li\').html();//\u83b7\u53d6li\u7684\u6a21\u677f\u4ee3\u7801\n                //console.log(tpl_li);\n                for (i = 0; i<result_length; i++){\n                    $(\'.temp_carousel_inner_li li\').attr("data-slide-to",i)\n                    //\u83b7\u53d6li\u7684\u6a21\u677f\u4ee3\u7801\n                    var tpl_li = $(\'.temp_carousel_inner_li\').html();\n                    console.log(tpl_li)\n                    _html_li += tpl_li\n                    console.log(_html_li)\n                }\n                $(\'.carousel-indicators\').html(_html_li)\n\n                //\u589e\u52a0\u8f6e\u64ad\u9879\u76ee\n                var _html ="";\n                var tpl = $(\'.temp_carousel_inner_active\').html();//\u83b7\u53d6\u7b2c\u4e00\u4e2a\u6a21\u677f\u4ee3\u7801\n                var item = data.results[0];                     //\u66ff\u6362\u7b2c\u4e00\u4e2a\u6a21\u677f\n                _html += renderTpl(tpl,item);\n                for (var i = 1;i < result_length;i++){          //\u904d\u5386\u7b2c\u4e8c\u4e2a\u5230\u7b2cn\u4e2a\u4ee3\u7801\n                    var tpl = $(\'.temp_carousel_inner\').html();\n                    var item = data.results[i];\n                    _html += renderTpl(tpl,item);               //\u6dfb\u52a0\u7b2cn\u4e2a\u6570\u636e\u5230\u6a21\u677f\n                }\n                $(\'.carousel-inner\').html(_html);               //\u6dfb\u52a0html\n                console.log($(\'.carousel-inner\').html())\n\n\n                //\u521d\u59cb\u5316\u8f6e\u64ad\n                var carousel_time = data.results[0].scene_default_time;\n                init_iframe(carousel_time);\n            }\n        });\n\n\t    //\u63d0\u793a\u6846\u53c2\u6570\u8bbe\u7f6e\uff0c\u82e5\u7528\u9ed8\u8ba4\u503c\u53ef\u4ee5\u7701\u7565\u4ee5\u4e0b\u9762\u4ee3\n        toastr.options = {\n            "closeButton": false,                       //\u662f\u5426\u663e\u793a\u5173\u95ed\u6309\u94ae\n            "debug": false,                             //\u662f\u5426\u4f7f\u7528debug\u6a21\u5f0f\n            "positionClass": "toast-top-full-width",    //\u5f39\u51fa\u7a97\u7684\u4f4d\u7f6e\n            "showDuration": "300",                      //\u663e\u793a\u7684\u52a8\u753b\u65f6\u95f4\n            "hideDuration": "1000",                     //\u6d88\u5931\u7684\u52a8\u753b\u65f6\u95f4\n            "timeOut": "5000",                          //\u5c55\u73b0\u65f6\u95f4\n            "extendedTimeOut": "1000",                  //\u52a0\u957f\u5c55\u793a\u65f6\u95f4\n            "showEasing": "swing",                      //\u663e\u793a\u65f6\u7684\u52a8\u753b\u7f13\u51b2\u65b9\u5f0f\n            "hideEasing": "linear",                     //\u6d88\u5931\u65f6\u7684\u52a8\u753b\u7f13\u51b2\u65b9\u5f0f\n            "showMethod": "fadeIn",                     //\u663e\u793a\u65f6\u7684\u52a8\u753b\u65b9\u5f0f\n            "hideMethod": "fadeOut"                     //\u6d88\u5931\u65f6\u7684\u52a8\u753b\u65b9\u5f0f\n        };\n\n\t});\n\n\t//\u7a97\u53e3\u53d8\u5316\u65f6\u7684\u4e8b\u4ef6\n\t$(window).resize(function () {\n\t    //\u7a97\u53e3\u53ef\u89c6\u5316\u9ad8\u5ea6\n        var window_height_change = $(document).height();\n        //\u66f4\u6539\u7a97\u53e3\u53ef\u89c6\u5316\u9ad8\u5ea6\n        $(\'.carousel iframe\').height(window_height_change);\n    });\n\n\t//\u952e\u76d8\u952e\u5165\u4e8b\u4ef6\n\t$(document).keydown(function () {\n\t    //\u952e\u76d8\u4e8b\u4ef6\u76d1\u542c\n\t    var e = e || window.event;\n\t    if( e.keyCode == 32 ){              //\u7a7a\u683c\u952e\n            toastr.error("\u6682\u505c\u8f6e\u64ad");\n\t        $("#myCarousel").carousel(\'pause\');\n        }else if( e.keyCode == 13 ){        //\u56de\u8f66\u952e\n\t        toastr.success("\u7ee7\u7eed\u8f6e\u64ad")\n\t        $("#myCarousel").carousel(\'cycle\');\n        }else if( e.keyCode == 37 || e.keyCode == 38){   // \u4e0a\u5de6\u952e\u4f4d\n\t        toastr.info("\u4e0a\u4e00\u9875");\n\t        $("#myCarousel").carousel(\'prev\');\n        }else if (e.keyCode == 39 || e.keyCode == 40){   // \u4e0b\u53f3\u952e\u4f4d\n\t        toastr.info("\u4e0b\u4e00\u9875");\n\t        $("#myCarousel").carousel(\'next\');\n        }\n    });\n\n</script>\n\n</body>\n</html>')
        return ''
    finally:
        context.caller_stack._pop_frame()


"""
__M_BEGIN_METADATA
{"source_encoding": "utf-8", "line_map": {"32": 25, "33": 66, "34": 66, "35": 71, "36": 71, "37": 114, "38": 114, "44": 38, "16": 0, "24": 1, "25": 13, "26": 13, "27": 23, "28": 23, "29": 24, "30": 24, "31": 25}, "uri": "./common/carousel.html", "filename": "/Users/zhanglibing/vagrant/django18/LanhuSaas/framework/templates/common/carousel.html"}
__M_END_METADATA
"""
