<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- 开发环境版本，包含了有帮助的命令行警告--2.5.51 ${STATIC_URL}assets/-->
    <script src="${STATIC_URL}assets/vue-2.5.21/vue.development.js"></script>
    <!-- 生产环境版本，优化了尺寸和速度 功能完善后请将vue.development.js该为vue.js-->
    <!--<script src="${STATIC_URL}assets/vue-2.5.21/vue.js"></script>-->
    <!-- element UI引入样式 -->
    <link href="${STATIC_URL}assets/element-2.4.11/index.css" rel="stylesheet">
    <!-- element UI引入组件库 -->
    <script src="${STATIC_URL}assets/element-2.4.11/index.js"></script>
    <!-- vue的ajax依赖-->
    <script src="${STATIC_URL}assets/vue-2.5.21/axios.min.js"></script>
    <!--jQuery库使用时请使用标准jQuery语法-->
    <!--<script src="${STATIC_URL}assets/jquery/jquery-3.1.1.min.js"></script>-->
    <!--页面初始化css(Tencent)-->
    <link href="${STATIC_URL}css/common/init.css" rel="stylesheet">
    <!--本页面css-->
    <link href="${STATIC_URL}css/common/main.css" rel="stylesheet">
    <!--阿里巴巴矢量图标库--项目完成后请下载css并下载css引用的字体文件-->
    <link href="http://at.alicdn.com/t/font_997278_ptr5bdmor4j.css" rel="stylesheet">
    <!--以下为后台参数-->
    <!--
    "${SITE_URL}";	        // app的url前缀,在ajax调用的时候，应该加上该前缀
    "${STATIC_URL}";       // 静态资源前缀
    **/--->
</head>
<body style="height: 100%">
<div id="main">
    <el-menu

            class="el-menu-demo"
            mode="horizontal"
            background-color="#fafafa"
            text-color="#fff"
            active-text-color="#ffd04b">
        <el-form :inline="true" class="demo-form-inline" style="margin-top: 15px;">

            <el-form-item label="员工名称:" size="mini">
                <el-select v-model="value8" placeholder="请选择员工">
                    <el-option v-for="item in options" :label="item.label" :key="item.value"
                               :value="item.value"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="起始时间:" size="mini">
                <el-time-picker v-model="date1" placeholder="开始时间点" format="hh:mm" value-format="hh:mm">
                </el-time-picker>
                <el-time-picker v-model="date2" placeholder="结束时间点" format="hh:mm" value-format="hh:mm">
                </el-time-picker>
            </el-form-item>
            <el-button type="info" >测试</el-button>
        </el-form>
    </el-menu>
    <template>
        <div class="block">
            <!-- 选择员工信息 strat -->
            <div style="width: 100%;">

            </div>
            <!-- 选择员工信息 end -->
            <!--<span class="demonstration">Click 指示器触发</span>-->

            <el-carousel trigger="click" :height="imgHeight">
                <el-carousel-item v-for="item in imgList" :key="item.id">
                    <el-row>
                        <el-col :span="24"><img ref="imgHeight" :src="item.idView" class="banner_img"/></el-col>
                    </el-row>
                </el-carousel-item>
            </el-carousel>
        </div>
    </template>
</div>

<script>
    let vm = new Vue({
        el: "#main",
        data: {
            imgList: [
                {id: 0, idView: '${STATIC_URL}img/slide1.png'},
                {id: 1, name: '详情', idView: '${STATIC_URL}img/slide1.png'},
                {id: 2, name: '推荐', idView: '${STATIC_URL}img/slide1.png'}
            ],
            imgHeight: '' + document.documentElement.clientHeight + 'px',
            date1: '08:00',                                                                   //开始时间
            date2: '10:00',                                                                   //结束时间
            region1: '1',                                                                 //岗位选择
            value8: '员工1',                                                                  //员工选择
            options: []
        },
        methods: {
            change1(value) {
                if (value == 1) {
                    vm.options = [
                        {value: '1', label: '员工1'},
                        {value: '2', label: '员工2'},
                        {value: '3', label: '员工3'},
                    ]
                } else if (value == 2) {
                    vm.options = [
                        {value: '4', label: '员工4'},
                        {value: '5', label: '员工5'},
                        {value: '6', label: '员工6'},
                    ]
                } else if (value == 3) {
                    vm.options = [
                        {value: '7', label: '员工7'},
                        {value: '8', label: '员工8'},
                        {value: '9', label: '员工9'},
                    ]
                }
            }
        },
        mounted() {
            //const that = this
            //这里很关键；大部分博客都是这样写的，其实也没有毛病，只不过有时候不起作用；
            window.onresize = () => {
                return (() => {
                    window.imgHeight = document.documentElement.clientHeight - 100;
                    vm.imgHeight = '' + window.imgHeight + 'px';
                })()
            }

        },
        watch: {
            imgHeight(val) {
                if (!this.timer) {
                    this.imgHeight = val;
                    this.timer = true;
                    let that = this;
                    setTimeout(function () {
                        // that.screenWidth = that.$store.state.canvasWidth
                        console.log(that.imgHeight);
                        that.timer = false;
                    }, 400)
                }
            },
        }
    });


</script>


<!--暂时的css样式-->
<style>
    .el-carousel__item h3 {
        color: #475669;
        font-size: 14px;
        opacity: 0.75;
        line-height: 150px;
        margin: 0;
    }

    .el-carousel__item:nth-child(2n) {
        background-color: #99a9bf;
    }

    .el-carousel__item:nth-child(2n+1) {
        background-color: #d3dce6;
    }
</style>
</body>
</html>